import{d as x,q as C,b as D,l as I,j as V,u as t,x as e,v as S,f as y,m as d,B as f,F as P,k as i,r as z,w as E}from"./vue.esm-bundler-da3dfd31.js";import{u as N}from"./vue-router-212c06c4.js";import{u as B,W as b,P as U,a as L}from"./useTheme-eec4b019.js";import{T as j,_ as A}from"./LanguageSetting-75a1291f.js";import{_ as J}from"./Button-041be21e.js";import{c as M,i as q}from"./workspace_invite-a74c4c07.js";import"./extends-98964cd2.js";import"./vue-i18n.runtime-54aa6b03.js";import"./_baseSet-de153ea0.js";import"./_toKey-6cc18de3.js";import"./index-31244240.js";import"./slide-ff6c039b.js";import"./isArrayLikeObject-523edb65.js";import"./index-b4575248.js";import"./index-f0aafce9.js";import"./KeyCode-9b05785e.js";import"./pickAttrs-d6f9a41a.js";import"./colors-099fe84d.js";import"./Accordion-1ff785b2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./ClockCircleOutlined-566f9eed.js";import"./shallowequal-23878baf.js";import"./collapseMotion-6307b6e4.js";import"./index-6cf4e6ab.js";import"./iframe-8ae88575.js";import"../sb-preview/runtime.js";import"./DropdownButton-0331ed8d.js";import"./index-9fe1cf39.js";import"./ExclamationCircleFilled-da22edd1.js";import"./SvgIcon-db9b006f.js";import"./index-eb2d26d6.js";import"./index-6b6b6228.js";import"./styleChecker-86e19025.js";import"./QuestionCircleTwoTone-d157f255.js";import"./index-d609b25c.js";import"./responsiveObserve-1261ffb7.js";const H=["create","invite",null],O={class:"content left"},G=["src"],K={class:"content right"},Q={id:"workspace-step-btn-container"},X={class:"step-wrapper"},Y=t("span",null," / ",-1),Z={class:"routerView"},ee={class:"transition-group"},te={class:"btns-wrapper"},T=x({__name:"StepView",props:{uid:{type:String,default:""}},setup(h){const _=h,v=N(),s=B();s.initCurrentStep();const{getCurrentStep:o,getSteps:a,getStepType:p,getNextBtnDisabled:c,getFormValues:g,getWorkspaceInviteLogId:$,getJoinParam:W}=C(s),w=D(!1),F=async()=>{try{if(a.value[o.value-1].isComplete)if(w.value=!0,p.value==="create"){const{inviteCode:l,url:n,...u}=g.value,{data:r,success:m}=await b.createWorkspace({...u,uid:_.uid});if(m){const{workspaceId:k,workspaceName:R}=r;s.setJoinParam({workspaceId:k,workspaceName:R}),s.setSelectedWorkspaceId(k)}}else{const{nickname:l,originName:n,saveName:u,path:r,size:m,ext:k}=g.value;await b.joinWorkspace({uid:_.uid,workspaceId:W.value.workspaceId,workspaceInviteLogId:$.value,nickname:l,originName:n,saveName:u,path:r,size:m,ext:k})}s.nextCurrentStep()}finally{w.value=!1}};return(l,n)=>{const u=I("RouterView"),r=J;return i(),V(P,null,[t("div",O,[t("img",{src:e(p)==="create"?e(M):e(q),alt:"작가 upklyak / 출처 Freepik"},null,8,G)]),t("div",K,[t("div",Q,[t("div",X,[t("span",null,S(e(o)),1),Y,t("span",null,S(e(a).length),1)]),t("div",Z,[t("div",ee,[y(u)])]),t("div",te,[e(a)[e(o)-1].isFinal?f("",!0):(i(),d(r,{key:0,class:"btn",size:"large",label:l.$t("component.button.prev"),onClick:n[0]||(n[0]=m=>e(s).prevCurrentStep())},null,8,["label"])),e(a)[e(o)-1].nextBtnText?(i(),d(r,{key:1,class:"btn",type:"primary",size:"large",label:e(a)[e(o)-1].nextBtnText||"",disabled:e(c),onClick:F,loading:w.value},null,8,["label","disabled","loading"])):f("",!0),e(o)===e(a).length?(i(),d(r,{key:2,class:"btn",type:"primary",size:"large",label:l.$t("component.button.toMain"),onClick:n[1]||(n[1]=m=>e(v).push(e(U).BASE_HOME))},null,8,["label"])):f("",!0)])])])],64)}}});T.__docgenInfo={exportName:"default",displayName:"StepView",description:"",tags:{},props:[{name:"uid",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/StepView.vue"]};const oe={id:"workspace-container"},se={class:"header"},ae={class:"language-setting-wrapper"},ne=x({__name:"index",setup(h){const _=N(),v=B(),{getStepType:s}=C(v),{getUser:o}=L(),a=z({workspaceCount:o.workspaceCount,userName:o.userName,uid:o.uid});return E(()=>_.currentRoute,p=>{const c=p.value.path.split("/")[2]||null;v.setStepType(H.includes(c)?c:null)},{deep:!0,immediate:!0}),(p,c)=>{const g=I("RouterView");return i(),V("div",oe,[t("div",se,[y(e(j)),t("div",ae,[y(A)])]),e(s)?(i(),d(T,{key:1,uid:a.uid},null,8,["uid"])):(i(),d(g,{key:0}))])}}});ne.__docgenInfo={exportName:"default",displayName:"workspace",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/index.vue"]};export{ne as default};
