import{a4 as E,n as g,f as R,s as V,k as S,o as L,a1 as U,d as _,w as G,g as K,v as q}from"./vue.esm-bundler-06433f34.js";import{g as J,K as Q,M as i,N as x,f as h,u as X,l as Y,O as Z}from"./compact-item-943b0817.js";const ee=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},te=J("Wave",e=>[ee(e)]);function oe(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function m(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&oe(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function ae(e){const{borderTopColor:t,borderColor:o,backgroundColor:r}=getComputedStyle(e);return m(t)?t:m(o)?o:m(r)?r:null}function b(e){return Number.isNaN(e)?0:e}const ne=R({props:{target:Q(),className:String},setup(e){const t=V(null),[o,r]=i(null),[u,p]=i([]),[v,l]=i(0),[f,a]=i(0),[c,O]=i(0),[$,k]=i(0),[B,I]=i(!1);function w(){const{target:n}=e,s=getComputedStyle(n);r(ae(n));const W=s.position==="static",{borderLeftWidth:z,borderTopWidth:F}=s;l(W?n.offsetLeft:b(-parseFloat(z))),a(W?n.offsetTop:b(-parseFloat(F))),O(n.offsetWidth),k(n.offsetHeight);const{borderTopLeftRadius:M,borderTopRightRadius:A,borderBottomLeftRadius:D,borderBottomRightRadius:H}=s;p([M,A,H,D].map(P=>b(parseFloat(P))))}let d,C,y;const N=()=>{clearTimeout(y),x.cancel(C),d==null||d.disconnect()},T=()=>{var n;const s=(n=t.value)===null||n===void 0?void 0:n.parentElement;s&&(E(null,s),s.parentElement&&s.parentElement.removeChild(s))};S(()=>{N(),y=setTimeout(()=>{T()},5e3);const{target:n}=e;n&&(C=x(()=>{w(),I(!0)}),typeof ResizeObserver<"u"&&(d=new ResizeObserver(w),d.observe(n)))}),L(()=>{N()});const j=n=>{n.propertyName==="opacity"&&T()};return()=>{if(!B.value)return null;const n={left:`${v.value}px`,top:`${f.value}px`,width:`${c.value}px`,height:`${$.value}px`,borderRadius:u.value.map(s=>`${s}px`).join(" ")};return o&&(n["--wave-color"]=o.value),g(U,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[g("div",{ref:t,class:e.className,style:n,onTransitionend:j},null)]})}}});function se(e,t){const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",e==null||e.insertBefore(o,e==null?void 0:e.firstChild),E(g(ne,{target:e,className:t},null),o)}function re(e,t){function o(){const r=h(e);se(r,t.value)}return o}const ce=R({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(e,t){let{slots:o}=t;const r=K(),{prefixCls:u}=X("wave",e),[,p]=te(u),v=re(r,_(()=>Y(u.value,p.value)));let l;const f=()=>{h(r).removeEventListener("click",l,!0)};return S(()=>{G(()=>e.disabled,()=>{f(),q(()=>{const a=h(r);a==null||a.removeEventListener("click",l,!0),!(!a||a.nodeType!==1||e.disabled)&&(l=c=>{c.target.tagName==="INPUT"||!Z(c.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||v()},a.addEventListener("click",l,!0))})},{immediate:!0,flush:"post"})}),L(()=>{f()}),()=>{var a;return(a=o.default)===null||a===void 0?void 0:a.call(o)[0]}}});export{ce as W};
