import{_ as V}from"./iframe-8ae88575.js";import{_ as W}from"./Button-041be21e.js";import{d as q,e as Y,b as r,r as Z,w as ee,j as A,m as U,y as a,x as o,f as e,k as b,u as p,z as D,v as c,a6 as te,h as oe,a9 as z,B as ae,F as ne,X as le,A as se}from"./vue.esm-bundler-da3dfd31.js";import{u as ie}from"./useTheme-eec4b019.js";import{M as $}from"./index-febd9083.js";import me from"./InviteMemberForm-d745619f.js";import{D as re}from"./DynamicTable-603a7f8e.js";import"./SvgIcon-db9b006f.js";import{M as pe}from"./Modal-827a1fd7.js";import{I as M}from"./CustomInput-b10632ad.js";import{S as ue}from"./CustomSelect-244e7a83.js";import{c as S}from"./content-e5dcb2b1.js";import{M as H}from"./index-eb2d26d6.js";import{M as ce}from"./MoreOutlined-50d43014.js";import{F as O}from"./index-5df3ba7c.js";import{E as de,m as fe}from"./index-9fe1cf39.js";import{a as ve}from"./isArrayLikeObject-523edb65.js";import{_ as _e,M as ke}from"./index-a0b3e6d9.js";import{D as be}from"./DropdownButton-0331ed8d.js";import{u as N}from"./vue-i18n.runtime-54aa6b03.js";import{C as ye}from"./KeyCode-9b05785e.js";import{C as ge}from"./index-f0aafce9.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as De,T as we}from"./index-ecf1c700.js";import{Q as Ce}from"./QuestionCircleTwoTone-d157f255.js";import{U as Ie}from"./UserAddOutlined-bd8059f7.js";import"../sb-preview/runtime.js";import"./index-31244240.js";import"./extends-98964cd2.js";import"./vue-router-212c06c4.js";import"./_baseSet-de153ea0.js";import"./_toKey-6cc18de3.js";import"./slide-ff6c039b.js";import"./index-b4575248.js";import"./pickAttrs-d6f9a41a.js";import"./colors-099fe84d.js";import"./Accordion-1ff785b2.js";import"./_commonjsHelpers-de833af9.js";import"./ClockCircleOutlined-566f9eed.js";import"./shallowequal-23878baf.js";import"./collapseMotion-6307b6e4.js";import"./index-6cf4e6ab.js";import"./ExclamationCircleFilled-da22edd1.js";import"./BasicTable-d1256578.js";import"./omit-3709658d.js";import"./_flatRest-9379d133.js";import"./useTour-3e614e3a.js";import"./CardList-70ef427d.js";import"./css-1021bd93.js";import"./index-6b6b6228.js";import"./LeftOutlined-444c44d4.js";import"./SwapOutlined-d76ec9a6.js";import"./index-df5fee73.js";import"./eagerComputed-853093c5.js";import"./responsiveObserve-1261ffb7.js";import"./index-bf79754e.js";import"./index-e44b3b0d.js";import"./index-434e0d27.js";import"./useFlexGapSupport-42c61aa1.js";import"./styleChecker-86e19025.js";import"./index-e47c3f83.js";import"./CaretDownOutlined-6d1d12da.js";import"./debounce-7fedd673.js";import"./index-7cccea8d.js";import"./Col-72edfad4.js";import"./hasIn-c3b6575d.js";import"./_arrayIncludesWith-2f006ba6.js";import"./useRefs-6ca959ac.js";const L=()=>({email:"",joinDate:"",nickname:"",phone:"",thumbnail:{url:""},userStatus:{label:"",value:""},workspaceUserId:""}),he={class:"post-detail"},$e={class:"img-wrapper"},Me=["src"],Se={class:"form-item-wrapper"},Ue={class:"btn-wrapper"},Q=q({__name:"PostDetail",props:{data:{}},setup(v){const _=v,y=S.R,{t:d}=N(),{Item:m}=O,[I,T]=H.useModal(),g=Y(()=>u.value===S.C||u.value===S.U),w=r([{label:"활성",value:"ACTIVE"},{label:"비활성",value:"INACTIVE"},{label:"탈퇴",value:"WITHDRAWN"},{label:"퇴출",value:"REVOKE"}]),u=r(y),k=r(!1),C=r(),l=Z({data:L(),cloneData:L()}),x=async()=>{console.log("click onSubmit")},R=()=>{u.value=S.C},E=()=>{I.confirm({title:d("message.modalDeleteCheck"),icon:oe(de),okText:d("component.button.ok"),okType:"primary",cancelText:d("component.button.cancel")})},j=()=>{u.value=y,k.value=!1,l.data=l.cloneData};return ee(()=>_.data,i=>{l.data={...i},l.cloneData=ve(i)},{immediate:!0}),(i,s)=>{const h=_e,B=ke,P=be,n=W;return b(),A("div",he,[g.value?(b(),U(o(O),{key:1,ref_key:"formRef",ref:C,layout:"horizontal",model:l},{default:a(()=>[e(o(m),{name:"nickname"},{default:a(()=>[e(o(M),{value:l.data.nickname,"onUpdate:value":s[2]||(s[2]=t=>l.data.nickname=t),label:i.$t("common.name")},null,8,["value","label"])]),_:1}),e(o(m),null,{default:a(()=>[e(o(ue),{value:l.data.userStatus,"onUpdate:value":s[3]||(s[3]=t=>l.data.userStatus=t),options:w.value,label:i.$t("common.status")},null,8,["value","options","label"])]),_:1}),e(o(m),{name:"email"},{default:a(()=>[e(o(M),{value:l.data.email,"onUpdate:value":s[4]||(s[4]=t=>l.data.email=t),label:i.$t("common.email")},null,8,["value","label"])]),_:1}),e(o(m),{name:"phone"},{default:a(()=>[e(o(M),{value:l.data.phone,"onUpdate:value":s[5]||(s[5]=t=>l.data.phone=t),label:i.$t("common.phone")},null,8,["value","label"])]),_:1}),e(o(m),{name:"joinDate"},{default:a(()=>[e(o(M),{value:l.data.joinDate,"onUpdate:value":s[6]||(s[6]=t=>l.data.joinDate=t),label:i.$t("common.joinDate"),disabled:""},null,8,["value","label"])]),_:1}),p("div",Ue,[e(n,{onClick:j},{default:a(()=>[e(o(ye))]),_:1}),e(n,{onClick:x,type:"primary"},{default:a(()=>[e(o(ge))]),_:1})])]),_:1},8,["model"])):(b(),U(o(O),{key:0,layout:"horizontal",model:l,class:"form-wrapper"},{default:a(()=>{var t;return[p("div",$e,[p("img",{src:(t=l.data.thumbnail)==null?void 0:t.url},null,8,Me)]),p("div",Se,[e(o(m),{label:i.$t("common.name"),name:"nickname"},{default:a(()=>[D(c(l.data.nickname),1)]),_:1},8,["label"]),e(o(m),{label:i.$t("common.status"),name:"userStatus"},{default:a(()=>[D(c(l.data.userStatus.label),1)]),_:1},8,["label"]),e(o(m),{label:i.$t("common.email"),name:"email"},{default:a(()=>[D(c(l.data.email),1)]),_:1},8,["label"]),e(o(m),{label:i.$t("common.phone"),name:"phone"},{default:a(()=>[D(c(l.data.phone||"-"),1)]),_:1},8,["label"]),e(o(m),{label:i.$t("common.joinDate"),name:"joinDate"},{default:a(()=>[D(c(l.data.joinDate),1)]),_:1},8,["label"])]),e(P,{open:k.value,"onUpdate:open":s[1]||(s[1]=F=>k.value=F),trigger:["click"]},{overlay:a(()=>[e(B,null,{default:a(()=>[e(h,{key:"1",onClick:R},{default:a(()=>[p("span",null,c(o(d)("common.postModify")),1)]),_:1}),e(h,{key:"2",onClick:E},{default:a(()=>[p("span",null,c(o(d)("component.button.export")),1)]),_:1})]),_:1})]),default:a(()=>[p("a",{class:"ant-dropdown-link",onClick:s[0]||(s[0]=te(()=>{},["prevent"]))},[e(o(ce),{style:{"font-size":"18px"}})])]),_:1},8,["open"])]}),_:1},8,["model"])),e(o(T))])}}});const Te=K(Q,[["__scopeId","data-v-1a087290"]]);Q.__docgenInfo={exportName:"default",displayName:"PostDetail",description:"",tags:{},props:[{name:"data",required:!0,type:{name:"WorkspaceUsers"}}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/manage/manage-users/components/PostDetail.vue"]};const xe=()=>{const{t:v}=N();return[{title:`${v("common.name")}`,dataIndex:"nickname",key:"nickname"},{title:`${v("common.email")}`,dataIndex:"email",key:"email"},{title:`${v("common.phone")}`,dataIndex:"phone",key:"phone"},{title:`${v("common.joinDate")}`,dataIndex:"joinDate",key:"joinDate"},{title:`${v("common.status")}`,dataIndex:"userStatus",key:"userStatus",customRender:({value:_})=>_.label}]},Re={class:"manage-users-container"},Ee={class:"detail-contents"},je={class:"invite-form-wrapper"},Be={class:"title"},G=q({__name:"index",setup(v){const{t:_}=N(),y={Detail:{key:"Detail",title:_("common.detail"),component:z(()=>V(()=>import("./UserDetail-cde3e60c.js"),["./UserDetail-cde3e60c.js","./vue.esm-bundler-da3dfd31.js","./useTheme-eec4b019.js","./vue-router-212c06c4.js","./extends-98964cd2.js","./vue-i18n.runtime-54aa6b03.js","./_baseSet-de153ea0.js","./_toKey-6cc18de3.js","./index-31244240.js","./slide-ff6c039b.js","./isArrayLikeObject-523edb65.js","./index-b4575248.js","./index-f0aafce9.js","./KeyCode-9b05785e.js","./pickAttrs-d6f9a41a.js","./colors-099fe84d.js","./Accordion-1ff785b2.js","./_plugin-vue_export-helper-c27b6911.js","./_commonjsHelpers-de833af9.js","./ClockCircleOutlined-566f9eed.js","./shallowequal-23878baf.js","./collapseMotion-6307b6e4.js","./Accordion-0db05fe0.css","./index-6cf4e6ab.js","./iframe-8ae88575.js","./Button-041be21e.js","./Button-bb7a377a.css","./DropdownButton-0331ed8d.js","./index-9fe1cf39.js","./ExclamationCircleFilled-da22edd1.js","./useTheme-e51dbf9c.css","./index-febd9083.js","./index-d609b25c.js","./responsiveObserve-1261ffb7.js","./UserDetail-7f3ade3d.css"],import.meta.url))},History:{key:"History",title:_("page.manage.history"),component:z(()=>V(()=>import("./UserTimeline-4a21c8ca.js"),["./UserTimeline-4a21c8ca.js","./vue.esm-bundler-da3dfd31.js","./useTheme-eec4b019.js","./vue-router-212c06c4.js","./extends-98964cd2.js","./vue-i18n.runtime-54aa6b03.js","./_baseSet-de153ea0.js","./_toKey-6cc18de3.js","./index-31244240.js","./slide-ff6c039b.js","./isArrayLikeObject-523edb65.js","./index-b4575248.js","./index-f0aafce9.js","./KeyCode-9b05785e.js","./pickAttrs-d6f9a41a.js","./colors-099fe84d.js","./Accordion-1ff785b2.js","./_plugin-vue_export-helper-c27b6911.js","./_commonjsHelpers-de833af9.js","./ClockCircleOutlined-566f9eed.js","./shallowequal-23878baf.js","./collapseMotion-6307b6e4.js","./Accordion-0db05fe0.css","./index-6cf4e6ab.js","./iframe-8ae88575.js","./Button-041be21e.js","./Button-bb7a377a.css","./DropdownButton-0331ed8d.js","./index-9fe1cf39.js","./ExclamationCircleFilled-da22edd1.js","./useTheme-e51dbf9c.css","./index-e5788dd4.js","./index-9b7dca2f.js","./index-5b2aa10a.js","./index-d60115d6.css","./UserTimeline-6f11c1fb.css"],import.meta.url))}},{getWorkspaceId:d}=ie(),m=r(L()),I=r(),T=r(),g=r(),w=r(!1),u=r(!1),k=r(!1),C=r(y.Detail.key),l=async n=>await $.getUserList(d||"",n),x=()=>$.getSortableCodes(),R=()=>$.getPageInfo(),E=n=>{const{workspaceUsers:t}=n;return t},j=n=>n,i=n=>n.map(t=>({...t,title:t.nickname,tag:t.userStatus.label,content:t.phone&&`<div style="display: flex; align-items: center; gap: 8px;"><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#7b828e" d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>${t.phone}</div>`,date:`${_("common.joinDate")}: `+t.joinDate})),s=n=>{w.value=!0,C.value=y.Detail.key,m.value=n,I.value=n.workspaceUserId},h=async()=>{try{k.value=!0;const n=g.value.tags;d&&await $.inviteUsers(d,{inviteEmails:n}),fe.success("초대가 완료되었습니다.",1),u.value=!1,k.value=!1}finally{g.value.onInitInviteEmails()}},B=(n,t)=>{console.log(n,t),H.confirm({content:"선택한 사용자를 내보내시겠습니까?",icon:e(Ce),onOk(){}})},P=()=>{u.value=!1,g.value.onInitInviteEmails()};return(n,t)=>{const F=W,J=De,X=we;return b(),A("div",Re,[e(o(re),{openDetail:w.value,"onUpdate:openDetail":t[2]||(t[2]=f=>w.value=f),ref_key:"dynamicTableRef",ref:T,columns:o(xe)(),"row-key":"index","data-request":l,"column-request":x,"filter-request":R,"data-callback":E,"content-callback":j,"card-content-callback":i,showDownload:!1,showRegist:!1,phText:n.$t("component.ph.userSearchPh"),deleteBtnText:n.$t("component.button.export"),onRowClick:s,onRowAdd:t[3]||(t[3]=f=>u.value=!0),onRowDelete:B},{tableBtns:a(()=>[e(F,{label:n.$t("component.button.invite"),size:"middle",onClick:t[0]||(t[0]=f=>n.$emit("row-add",u.value=!0))},{icon:a(()=>[e(o(Ie),{style:{color:"#1890ff"}})]),_:1},8,["label"])]),"detail-title":a(()=>[p("span",null,c(n.$t("page.manage.userInfo")),1)]),"detail-content":a(()=>[p("div",Ee,[e(Te,{ref:"postDetailRef",data:m.value},null,8,["data"]),e(X,{"active-key":C.value,"onUpdate:activeKey":t[1]||(t[1]=f=>C.value=f),destroyInactiveTabPane:!0,tabBarGutter:70,tabBarStyle:{padding:"0 10%",display:"flex"}},{default:a(()=>[(b(),A(ne,null,le(y,(f,Pe)=>e(J,{key:f.key,tab:f.title},{default:a(()=>[(b(),U(se(f.component),{workspaceUserId:I.value},null,8,["workspaceUserId"]))]),_:2},1032,["tab"])),64))]),_:1},8,["active-key"])])]),_:1},8,["openDetail","columns","phText","deleteBtnText"]),u.value?(b(),U(o(pe),{key:0,onCancel:P,onOk:h,isModalLoading:k.value,class:"invite-modal"},{title:a(()=>[D(c(n.$t("page.manage.userInvite")),1)]),body:a(()=>[p("div",je,[p("h4",Be,c(n.$t("page.manage.emailInvite")),1),e(me,{ref_key:"inviteMemberRef",ref:g,isShowDescription:!1,isShowJump:!1},null,512)])]),_:1},8,["isModalLoading"])):ae("",!0)])}}});const Xt=K(G,[["__scopeId","data-v-4bd959a2"]]);G.__docgenInfo={exportName:"default",displayName:"manage-users",description:"",tags:{},events:[{name:"row-add"}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/manage/manage-users/index.vue"]};export{Xt as default};
