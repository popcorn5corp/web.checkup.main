import{_ as k}from"./Button-041be21e.js";import{d as C,q as I,b as d,l as w,k as h,j as b,u as n,v,f as c,x as i,W as y,y as N,F as B}from"./vue.esm-bundler-da3dfd31.js";import{u as F,W as x,c as D}from"./useTheme-eec4b019.js";import{u as S}from"./vue-i18n.runtime-54aa6b03.js";import{C as $}from"./index-f0aafce9.js";import"./index-31244240.js";import"./extends-98964cd2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./vue-router-212c06c4.js";import"./_baseSet-de153ea0.js";import"./_toKey-6cc18de3.js";import"./slide-ff6c039b.js";import"./isArrayLikeObject-523edb65.js";import"./index-b4575248.js";import"./pickAttrs-d6f9a41a.js";import"./colors-099fe84d.js";import"./Accordion-1ff785b2.js";import"./_commonjsHelpers-de833af9.js";import"./KeyCode-9b05785e.js";import"./ClockCircleOutlined-566f9eed.js";import"./shallowequal-23878baf.js";import"./collapseMotion-6307b6e4.js";import"./index-6cf4e6ab.js";import"./iframe-8ae88575.js";import"../sb-preview/runtime.js";import"./DropdownButton-0331ed8d.js";import"./index-9fe1cf39.js";import"./ExclamationCircleFilled-da22edd1.js";const V={class:"text-wrapper"},W={class:"form-wrapper"},L={class:"input-wrapper"},M=C({__name:"InviteCodeForm",setup(U){const{createMessage:u}=D(),{t:f}=S(),t=F(),{getFormValues:p}=I(t),a=d(!1),r=d(!1),_=async()=>{const e=p.value.inviteCode.trim(),o=/^[0-9]+$/;try{if(e.length)if(a.value=!0,o.test(e)){const{data:s}=await x.checkInviteCode({inviteCode:e}),{workspaceId:l,workspaceName:m,workspaceInviteLogId:g}=s;t.setJoinParam({workspaceId:l,workspaceName:m,workspaceInviteLogId:g}),t.setNextBtnDisabled(!1),r.value=!0}else u.error(f("message.validate.checkInviteCode")),t.setNextBtnDisabled(!0)}catch(s){a.value=!1,console.log(s),u.error(s.response.data.error.message),t.setNextBtnDisabled(!0)}finally{a.value=!1}};return(e,o)=>{const s=w("Input"),l=k;return h(),b(B,null,[n("div",V,[n("h1",null,v(e.$t("page.workspace.inviteStep1Tit")),1),n("p",null,v(e.$t("page.workspace.inviteStep1Desc")),1)]),n("div",W,[n("div",L,[c(s,{placeholder:e.$t("component.ph.inputInviteCode"),value:i(p).inviteCode,"onUpdate:value":o[0]||(o[0]=m=>i(p).inviteCode=m),onInput:o[1]||(o[1]=()=>{i(t).setNextBtnDisabled(!0),r.value=!1})},null,8,["placeholder","value"]),c(l,{class:"btn",label:r.value?"":e.$t("component.button.confirm"),onClick:_,loading:a.value},y({_:2},[r.value?{name:"icon",fn:N(()=>[c(i($))]),key:"0"}:void 0]),1032,["label","loading"])])])],64)}}});M.__docgenInfo={exportName:"default",displayName:"InviteCodeForm",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/invite/InviteCodeForm.vue"]};export{M as default};
