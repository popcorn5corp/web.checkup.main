import{f as C,K as x,b as D,A as I,y as a,z as V,O as t,u as e,S,n as y,B as d,R as f,F as N,r as P,w as E}from"./vue.esm-bundler-06433f34.js";import{u as B}from"./vue-router-09c98cdc.js";import{u as T,P as U,W as b,a as A}from"./index-2fe437c2.js";import{T as L,_ as J}from"./LanguageSetting-9872f40d.js";import{_ as M}from"./Button-f7730f75.js";import{c as O,i as j}from"./workspace_invite-a74c4c07.js";import"./_commonjsHelpers-de833af9.js";import"./index-6cf4e6ab.js";import"./index-f9a7754c.js";import"./FilterForm-0cbd5abc.js";import"./index-fe2cee87.js";import"./_arrayLikeKeys-856a4a59.js";import"./compact-item-943b0817.js";import"./extends-98964cd2.js";import"./_overRest-fdd2e9e6.js";import"./isArrayLikeObject-18ce9678.js";import"./isPlainObject-7ca50782.js";import"./dayjs.min-bd65d405.js";import"./pinia-1c824524.js";import"./Accordion-0d466002.js";import"./index-c186720f.js";import"./FormItemContext-d5d2b6af.js";import"./statusUtils-981b964f.js";import"./vnode-0120d1ab.js";import"./CloseCircleFilled-0e0600c9.js";import"./index-9435a495.js";import"./index-aab19e1a.js";import"./index-df6759cb.js";import"./index-7bc94af2.js";import"./EyeOutlined-3dbe0b46.js";import"./index-30344dd3.js";import"./motion-8927e1f6.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-0fc5836e.js";import"./index-9c7320cf.js";import"./KeyCode-5dbefdba.js";import"./colors-897f8409.js";import"./ClockCircleOutlined-ec564bb6.js";import"./useMergedState-9fc4af37.js";import"./slide-14b3f38e.js";import"./motionUtil-c773f409.js";import"./index-0b93d195.js";import"./pickAttrs-7c36c3e9.js";import"./isMobile-12f0741d.js";import"./shallowequal-aee54418.js";import"./roundedArrow-e2771650.js";import"./RightOutlined-811eef93.js";import"./firstNotUndefined-29a740f3.js";import"./collapseMotion-a3198536.js";import"./DropdownButton-c71d963a.js";import"./_baseSet-597e192b.js";import"./_toKey-f8a2c48c.js";import"./isSymbol-4808126a.js";import"./vue-i18n.runtime-ed730321.js";import"./iframe-4d7f0ef5.js";import"../sb-preview/runtime.js";import"./index-1bdfef9a.js";import"./InfoCircleOutlined-588a8397.js";import"./ExclamationCircleFilled-d404fa4e.js";import"./cloneDeep-63a05421.js";import"./SvgIcon-c1119032.js";import"./index-9943d5fa.js";import"./index-20ecb033.js";import"./styleChecker-c17e3bbb.js";import"./QuestionCircleTwoTone-fdcc003c.js";import"./index-68075f0c.js";import"./responsiveObserve-dd206e94.js";const H=["create","invite",null],K={class:"content left"},q=["src"],G={class:"content right"},Q={id:"workspace-step-btn-container"},X={class:"step-wrapper"},Y=t("span",null," / ",-1),Z={class:"routerView"},ee={class:"transition-group"},te={class:"btns-wrapper"},$=C({__name:"StepView",props:{uid:{type:String,default:""}},setup(h){const _=h,g=B(),r=T();r.initCurrentStep();const{getCurrentStep:o,getSteps:s,getStepType:p,getNextBtnDisabled:c,getFormValues:v,getWorkspaceInviteLogId:R,getJoinParam:W}=x(r),w=D(!1),F=async()=>{try{if(s.value[o.value-1].isComplete)if(w.value=!0,p.value==="create"){const{inviteCode:m,url:i,...l}=v.value,{data:n,success:u}=await b.createWorkspace({...l,uid:_.uid});if(u){const{workspaceId:k,workspaceName:z}=n;r.setJoinParam({workspaceId:k,workspaceName:z}),r.setSelectedWorkspaceId(k)}}else{const{nickname:m,originName:i,saveName:l,path:n,size:u,ext:k}=v.value;await b.joinWorkspace({uid:_.uid,workspaceId:W.value.workspaceId,workspaceInviteLogId:R.value,nickname:m,originName:i,saveName:l,path:n,size:u,ext:k})}r.nextCurrentStep()}finally{w.value=!1}};return(m,i)=>{const l=I("RouterView"),n=M;return a(),V(N,null,[t("div",K,[t("img",{src:e(p)==="create"?e(O):e(j),alt:"작가 upklyak / 출처 Freepik"},null,8,q)]),t("div",G,[t("div",Q,[t("div",X,[t("span",null,S(e(o)),1),Y,t("span",null,S(e(s).length),1)]),t("div",Z,[t("div",ee,[y(l)])]),t("div",te,[e(s)[e(o)-1].isFinal?f("",!0):(a(),d(n,{key:0,class:"btn",size:"large",label:m.$t("component.button.prev"),onClick:i[0]||(i[0]=u=>e(r).prevCurrentStep())},null,8,["label"])),e(s)[e(o)-1].nextBtnText?(a(),d(n,{key:1,class:"btn",type:"primary",size:"large",label:e(s)[e(o)-1].nextBtnText||"",disabled:e(c),onClick:F,loading:w.value},null,8,["label","disabled","loading"])):f("",!0),e(o)===e(s).length?(a(),d(n,{key:2,class:"btn",type:"primary",size:"large",label:m.$t("component.button.toMain"),onClick:i[1]||(i[1]=u=>e(g).push(e(U).BASE_HOME))},null,8,["label"])):f("",!0)])])])],64)}}});$.__docgenInfo={exportName:"default",displayName:"StepView",description:"",tags:{},props:[{name:"uid",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/StepView.vue"]};const oe={class:"top-container"},re={class:"language-setting-wrapper"},se={id:"workspace-container"},ie=C({__name:"index",setup(h){const _=B(),g=T(),{getStepType:r}=x(g),{getUser:o}=A(),s=P({workspaceCount:o.workspaceCount,userName:o.userName,uid:o.uid});return E(()=>_.currentRoute,p=>{const c=p.value.path.split("/")[2]||null;g.setStepType(H.includes(c)?c:null)},{deep:!0,immediate:!0}),(p,c)=>{const v=I("RouterView");return a(),V(N,null,[t("div",oe,[y(e(L)),t("div",re,[y(J)])]),t("div",se,[e(r)?(a(),d($,{key:1,uid:s.uid},null,8,["uid"])):(a(),d(v,{key:0}))])],64)}}});ie.__docgenInfo={exportName:"default",displayName:"workspace",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/index.vue"]};export{ie as default};
