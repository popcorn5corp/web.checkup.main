import{f as B,W as N,K as R,b as l,d as I,w as U,y as a,z as i,O as o,S as n,R as _,F as J,_ as T,n as S,u as g}from"./vue.esm-bundler-06433f34.js";import{u as W}from"./index-2fe437c2.js";import{M as j}from"./index-b2fd6c35.js";import{U as O}from"./index-fe2cee87.js";import{I as z}from"./index-c186720f.js";import{u as K}from"./vue-i18n.runtime-ed730321.js";import{C as L}from"./KeyCode-5dbefdba.js";import{m as P}from"./index-1bdfef9a.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-6cf4e6ab.js";import"./vue-router-09c98cdc.js";import"./index-f9a7754c.js";import"./FilterForm-0cbd5abc.js";import"./Accordion-0d466002.js";import"./index-30344dd3.js";import"./compact-item-943b0817.js";import"./extends-98964cd2.js";import"./FormItemContext-d5d2b6af.js";import"./motion-8927e1f6.js";import"./dayjs.min-bd65d405.js";import"./index-0fc5836e.js";import"./index-aab19e1a.js";import"./index-df6759cb.js";import"./index-9c7320cf.js";import"./colors-897f8409.js";import"./ClockCircleOutlined-ec564bb6.js";import"./CloseCircleFilled-0e0600c9.js";import"./vnode-0120d1ab.js";import"./useMergedState-9fc4af37.js";import"./slide-14b3f38e.js";import"./motionUtil-c773f409.js";import"./_arrayLikeKeys-856a4a59.js";import"./index-0b93d195.js";import"./statusUtils-981b964f.js";import"./pickAttrs-7c36c3e9.js";import"./isMobile-12f0741d.js";import"./index-7bc94af2.js";import"./shallowequal-aee54418.js";import"./index-9435a495.js";import"./roundedArrow-e2771650.js";import"./RightOutlined-811eef93.js";import"./firstNotUndefined-29a740f3.js";import"./collapseMotion-a3198536.js";import"./Button-f7730f75.js";import"./DropdownButton-c71d963a.js";import"./pinia-1c824524.js";import"./_baseSet-597e192b.js";import"./_overRest-fdd2e9e6.js";import"./_toKey-f8a2c48c.js";import"./isSymbol-4808126a.js";import"./iframe-4d7f0ef5.js";import"../sb-preview/runtime.js";import"./cloneDeep-63a05421.js";import"./isArrayLikeObject-18ce9678.js";import"./isPlainObject-7ca50782.js";import"./EyeOutlined-3dbe0b46.js";import"./InfoCircleOutlined-588a8397.js";import"./ExclamationCircleFilled-d404fa4e.js";const A={class:"invite-member-form-container"},G={key:0,class:"text-wrapper"},H={class:"form-wrapper"},Q={key:0,style:{color:"red","margin-left":"10px"}},X={class:"tags-wrapper"},Y={class:"text"},Z=["onClick"],ee={class:"input-wrapper"},te={class:"input-box"},oe={key:1,class:"jump-wrapper"},b=B({__name:"InviteMemberForm",props:{isShowDescription:{type:Boolean,default:!0},isShowJump:{type:Boolean,default:!0}},setup(k,{expose:F}){const C=k;N(t=>({"6ad563dc":x.value.borderColor}));const{t:c}=K(),r=W(),{getFormValues:V,getStepType:u,getWorkspace:h}=R(r),p=l(!1),w=l(""),m=l(""),y=l(),d=I(()=>[...V.value.inviteEmails]),x=I(()=>({borderColor:p.value?"#ff4d4f":"#d9d9d9"}));(async()=>u.value===null&&r.initFormValueInviteEmails())();const v=async t=>{const e=t.target.value;try{if(!e)return;O.Validate.isEmail(e)?d.value.includes(e)?(f(c("message.validate.checkDuplicatedEmail")),console.log("step",u.value)):(u.value===null&&D(e),m.value="",r.pushFormValueInviteEmails(e.trim()),E()):f(c("message.validate.checkEmailForm"))}catch{P.error(c("message.validate.reTry"))}},D=async t=>{try{if(h.value){const{data:{exist:e}}=await j.checkDuplicatedEmail(h.value.workspaceId,{inviteEmail:t});if(e)return f("이미 이 워크스페이스에 존재합니다.")}}catch(e){console.log(e)}},M=()=>{r.initFormValueInviteEmails()},$=t=>{r.removeFormValueInviteEmails(t)},f=t=>{w.value=t,p.value=!0,r.setNextBtnDisabled(!0)},E=()=>{p.value=!1,r.setNextBtnDisabled(!1)};return U(m,()=>{m.value.length||E()}),F({isError:p,tags:d,onInputEnter:v,onInitInviteEmails:M}),(t,e)=>(a(),i("div",A,[C.isShowDescription?(a(),i("div",G,[o("h1",null,n(t.$t("page.workspace.createStep3Tit")),1),o("p",null,n(t.$t("page.workspace.createStep3Desc")),1)])):_("",!0),o("div",H,[o("small",null,n(t.$t("page.workspace.createStep3Info")),1),p.value?(a(),i("small",Q,n(w.value),1)):_("",!0),o("div",{class:"select-wrapper",onClick:e[1]||(e[1]=s=>y.value.focus())},[o("div",X,[(a(!0),i(J,null,T(d.value,s=>(a(),i("div",{key:s,class:"tag"},[o("span",Y,n(s),1),o("span",{class:"icon",onClick:re=>$(s)},[S(g(L))],8,Z)]))),128))]),o("div",ee,[o("div",te,[S(g(z),{ref_key:"inputRef",ref:y,class:"input",placeholder:t.$t("message.validate.checkEmail"),value:m.value,"onUpdate:value":e[0]||(e[0]=s=>m.value=s),onPressEnter:v,onFocusout:v},null,8,["placeholder","value"])])])]),k.isShowJump?(a(),i("div",oe,[o("span",{class:"jump",onClick:e[2]||(e[2]=s=>g(r).nextCurrentStep())},n(t.$t("page.workspace.inviteStepJump")),1)])):_("",!0)])]))}});const mt=q(b,[["__scopeId","data-v-5d2a5f18"]]);b.__docgenInfo={exportName:"default",displayName:"InviteMemberForm",description:"",tags:{},expose:[{name:"isError"},{name:"tags"},{name:"onInputEnter"},{name:"onInitInviteEmails"}],props:[{name:"isShowDescription",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isShowJump",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/create/InviteMemberForm.vue"]};export{mt as default};
