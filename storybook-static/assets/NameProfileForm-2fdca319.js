import{d as N,q as I,b as p,e as b,w as g,k as u,j as d,u as o,v as l,f as c,x as s,y,F as _,X as $}from"./vue.esm-bundler-da3dfd31.js";import{u as C,W as P}from"./useTheme-eec4b019.js";import{_ as D}from"./Button-041be21e.js";import"./DropdownButton-0331ed8d.js";import{F as V}from"./FileUploader-7616bfb5.js";import{I as x}from"./index-b4575248.js";import{M as B}from"./index-eb2d26d6.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./vue-router-212c06c4.js";import"./extends-98964cd2.js";import"./vue-i18n.runtime-54aa6b03.js";import"./_baseSet-de153ea0.js";import"./_toKey-6cc18de3.js";import"./index-31244240.js";import"./slide-ff6c039b.js";import"./isArrayLikeObject-523edb65.js";import"./Accordion-1ff785b2.js";import"./_commonjsHelpers-de833af9.js";import"./KeyCode-9b05785e.js";import"./colors-099fe84d.js";import"./ClockCircleOutlined-566f9eed.js";import"./pickAttrs-d6f9a41a.js";import"./index-f0aafce9.js";import"./shallowequal-23878baf.js";import"./collapseMotion-6307b6e4.js";import"./index-6cf4e6ab.js";import"./iframe-8ae88575.js";import"../sb-preview/runtime.js";import"./index-9fe1cf39.js";import"./ExclamationCircleFilled-da22edd1.js";import"./SvgIcon-db9b006f.js";import"./index-2a8fec04.js";import"./index-5df3ba7c.js";import"./Col-72edfad4.js";import"./responsiveObserve-1261ffb7.js";import"./useFlexGapSupport-42c61aa1.js";import"./styleChecker-86e19025.js";import"./_flatRest-9379d133.js";import"./hasIn-c3b6575d.js";import"./_arrayIncludesWith-2f006ba6.js";import"./debounce-7fedd673.js";import"./omit-3709658d.js";import"./index-e44b3b0d.js";import"./index-c9501198.js";import"./useRefs-6ca959ac.js";import"./index-6b6b6228.js";const U={class:"text-wrapper"},W={class:"form-wrapper"},E={class:"profile-wrapper"},M={class:"profile-box"},j={class:"img-wrapper"},q=["src"],L={class:"btn-wrapper"},R={class:"profile-img-wrapper"},X=["src"],z=["onClick"],k=N({__name:"NameProfileForm",setup(A){const r=C(),{getFormValues:i}=I(r),f=p(),n=p(!1),v=p([]),w=b(()=>{var e;return(e=f.value)==null?void 0:e.getFiles()}),m=p("");(async()=>{try{const{data:e}=await P.getDefaultProfiles(),t=e.images[0];v.value=e.images,m.value=t.url,r.setFormValueImgFile({...t,saveName:t.name}),i.value.url&&(m.value=i.value.url)}catch(e){console.log(e)}})();const F=e=>{const t=e.target.value;r.setNextBtnDisabled(!(t.length>0))},h=e=>{m.value=e.url,n.value=!1,r.setFormValueImgFile({...e,saveName:e.name})};return g(w,e=>{if(e.length){const t=e.at(-1);m.value=t.url,r.setFormValueImgFile({...t,saveName:t.name})}}),g(i,e=>{e.nickname.length&&r.setNextBtnDisabled(!1)},{immediate:!0}),(e,t)=>(u(),d(_,null,[o("div",U,[o("h1",null,l(e.$t("message.validate.checkName")),1),o("p",null,l(e.$t("page.workspace.nameProfileDesc")),1)]),o("div",W,[c(s(x),{placeholder:e.$t("message.validate.checkName"),value:s(i).nickname,"onUpdate:value":t[0]||(t[0]=a=>s(i).nickname=a),maxlength:50,onInput:F,onPressEnter:t[1]||(t[1]=a=>s(r).nextCurrentStep())},null,8,["placeholder","value"]),o("div",E,[o("h2",null,l(e.$t("page.workspace.profileImg")),1),o("div",M,[o("div",j,[o("img",{src:m.value,alt:"출처 Freepik"},null,8,q)]),o("div",null,[o("p",null,l(e.$t("page.workspace.profileImgDesc")),1),o("div",L,[c(s(D),{label:e.$t("component.button.selectImgBtn"),class:"btn",onClick:t[2]||(t[2]=a=>n.value=!0)},null,8,["label"]),o("span",null,l(e.$t("common.or")),1),c(s(V),{ref_key:"fileUploader",ref:f},null,512)])])])])]),c(s(B),{open:n.value,title:e.$t("component.button.selectImg"),width:"64%",centered:"",bodyStyle:{display:"flex",flexWrap:"wrap",gap:"1rem"},wrapClassName:"modal-wrapper",footer:!1,onCancel:t[3]||(t[3]=a=>n.value=!1)},{default:y(()=>[(u(!0),d(_,null,$(v.value,a=>(u(),d("div",{key:a.url},[o("div",R,[o("img",{src:a.url,alt:"출처 Freepik",class:"profile-img"},null,8,X),o("div",{class:"img-masking",onClick:G=>h(a)},[o("span",null,l(e.$t("common.select")),1)],8,z)])]))),128))]),_:1},8,["open","title"])],64))}});const je=S(k,[["__scopeId","data-v-71da9421"]]);k.__docgenInfo={exportName:"default",displayName:"NameProfileForm",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/NameProfileForm.vue"]};export{je as default};
