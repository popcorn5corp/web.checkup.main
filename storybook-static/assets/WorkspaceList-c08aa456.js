import{d as y,b as d,x as a,j as u,u as e,v as r,F as b,X as C,f as i,z as L,y as D,k as m,S as T,Y as A,Z as U}from"./vue.esm-bundler-da3dfd31.js";import{u as $,a as E,U as N,d as R,W as v,P as B}from"./useTheme-eec4b019.js";import{u as O}from"./vue-router-212c06c4.js";import{U as P}from"./UserAddOutlined-bd8059f7.js";import{a as F}from"./index-b4575248.js";import{u as V}from"./vue-i18n.runtime-54aa6b03.js";import{A as h}from"./ArrowRightOutlined-5fcc1614.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./extends-98964cd2.js";import"./_baseSet-de153ea0.js";import"./_toKey-6cc18de3.js";import"./index-31244240.js";import"./slide-ff6c039b.js";import"./isArrayLikeObject-523edb65.js";import"./Accordion-1ff785b2.js";import"./_commonjsHelpers-de833af9.js";import"./KeyCode-9b05785e.js";import"./colors-099fe84d.js";import"./ClockCircleOutlined-566f9eed.js";import"./pickAttrs-d6f9a41a.js";import"./index-f0aafce9.js";import"./shallowequal-23878baf.js";import"./collapseMotion-6307b6e4.js";import"./index-6cf4e6ab.js";import"./iframe-8ae88575.js";import"../sb-preview/runtime.js";import"./Button-041be21e.js";import"./DropdownButton-0331ed8d.js";import"./index-9fe1cf39.js";import"./ExclamationCircleFilled-da22edd1.js";const K=c=>(A("data-v-3b9f153c"),c=c(),U(),c),Y={class:"content"},j={class:"list-wrapper"},H={class:"list-desc"},M={class:"list-box"},X=["onClick"],Z=K(()=>e("span",{class:"img-box"},[e("span",{class:"img"}," W ")],-1)),q={class:"name"},G={class:"arrow"},J={class:"text"},Q={class:"invite-text"},ee={class:"sub"},se={class:"invite-arrow"},te={class:"check-wrapper"},w=y({__name:"WorkspaceList",setup(c){const{t:k}=V(),_=O(),{setSelectedWorkspaceId:g,getWorkspaceId:W,initWorkspace:I}=$(),{getUser:p}=E(),f=d(),x=d(),n=d(W||N.Storage.get(R));(async()=>{try{const{data:{workspaceInfoList:t}}=await v.getWorkspaceList({currentWorkspaceId:a(n)});f.value=t.map(s=>{let o=!1,l=k("component.button.move");return s.workspaceId===a(n)&&(o=!0,l=k("page.workspace.listArrowText")),{...s,active:o,activeTxt:l}})}catch(t){console.log(t)}})();async function S(t){try{const{workspaceId:s}=t;await v.updateDefaultWorkspace({defaultWorkspace:p.useDefaultWorkspace,defaultWorkspaceId:s}),a(n)!==s&&(I(),g(s)),_.push({path:B.BASE_HOME})}catch(s){console.log(s)}}return(t,s)=>(m(),u("div",Y,[e("div",j,[e("h1",null,r(t.$t("page.workspace.listTitle")),1),e("p",H,r(t.$t("page.workspace.listDesc")),1),e("div",M,[e("ul",null,[(m(!0),u(b,null,C(f.value,o=>(m(),u("li",{ref_for:!0,ref_key:"listRef",ref:x,key:o.workspaceId,class:T(["list-li",[o.active&&"active"]]),onClick:l=>S(o)},[Z,e("span",q,r(o.workspaceName),1),e("span",G,[i(a(h),{class:"icon"}),e("span",J,r(o.activeTxt),1)])],10,X))),128))])]),e("div",{class:"invite-code-wrapper",onClick:s[0]||(s[0]=o=>a(_).push({name:"workspace-invite"}))},[e("div",Q,[e("p",null,r(t.$t("page.workspace.listInviteText")),1),e("p",ee,[i(a(P),{class:"user-plus-icon"}),L(r(t.$t("page.workspace.listInviteSubText")),1)])]),e("div",se,[i(a(h))])]),e("div",te,[e("span",null,[i(a(F),{checked:a(p).useDefaultWorkspace,"onUpdate:checked":s[1]||(s[1]=o=>a(p).useDefaultWorkspace=o)},{default:D(()=>[e("p",null,r(t.$t("page.workspace.listCheckText")),1)]),_:1},8,["checked"])])])])]))}});const $e=z(w,[["__scopeId","data-v-3b9f153c"]]);w.__docgenInfo={exportName:"default",displayName:"WorkspaceList",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/WorkspaceList.vue"]};export{$e as default};
