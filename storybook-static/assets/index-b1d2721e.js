import{_ as V}from"./iframe-4d7f0ef5.js";import{_ as W}from"./Button-f7730f75.js";import{f as q,d as Y,b as r,r as Z,w as ee,y as k,z as L,B as U,M as a,O as p,n as e,N as D,S as c,u as o,a8 as te,h as oe,ab as z,F as ae,_ as ne,P as le,R as ie}from"./vue.esm-bundler-06433f34.js";import{u as se}from"./index-2fe437c2.js";import{M as $}from"./index-b2fd6c35.js";import me from"./InviteMemberForm-6f81ef56.js";import{D as re}from"./DynamicTable-58fe0c48.js";import"./SvgIcon-c1119032.js";import{M as pe}from"./Modal-80582b28.js";import{I as M}from"./CustomInput-dd06c449.js";import{S as ue}from"./CustomSelect-c0661bdf.js";import{c as S}from"./content-e5dcb2b1.js";import{M as H}from"./index-9943d5fa.js";import{M as ce}from"./MoreOutlined-7525bc43.js";import{F}from"./index-6855d82a.js";import{E as de}from"./InfoCircleOutlined-588a8397.js";import{_ as fe,M as ve}from"./index-b8ebef0a.js";import{D as _e}from"./DropdownButton-c71d963a.js";import{c as be}from"./cloneDeep-63a05421.js";import{u as A}from"./vue-i18n.runtime-ed730321.js";import{C as ke}from"./KeyCode-5dbefdba.js";import{C as ye}from"./index-0b93d195.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as ge,T as De}from"./index-b5497c2b.js";import{U as we}from"./UserAddOutlined-b0b9d162.js";import{m as Ce}from"./index-1bdfef9a.js";import{Q as Ie}from"./QuestionCircleTwoTone-fdcc003c.js";import"../sb-preview/runtime.js";import"./motion-8927e1f6.js";import"./compact-item-943b0817.js";import"./extends-98964cd2.js";import"./index-aab19e1a.js";import"./index-df6759cb.js";import"./_commonjsHelpers-de833af9.js";import"./index-6cf4e6ab.js";import"./vue-router-09c98cdc.js";import"./index-f9a7754c.js";import"./FilterForm-0cbd5abc.js";import"./index-fe2cee87.js";import"./_arrayLikeKeys-856a4a59.js";import"./_overRest-fdd2e9e6.js";import"./isArrayLikeObject-18ce9678.js";import"./isPlainObject-7ca50782.js";import"./dayjs.min-bd65d405.js";import"./pinia-1c824524.js";import"./Accordion-0d466002.js";import"./index-c186720f.js";import"./FormItemContext-d5d2b6af.js";import"./statusUtils-981b964f.js";import"./vnode-0120d1ab.js";import"./CloseCircleFilled-0e0600c9.js";import"./index-9435a495.js";import"./index-7bc94af2.js";import"./EyeOutlined-3dbe0b46.js";import"./index-30344dd3.js";import"./index-0fc5836e.js";import"./index-9c7320cf.js";import"./colors-897f8409.js";import"./ClockCircleOutlined-ec564bb6.js";import"./useMergedState-9fc4af37.js";import"./slide-14b3f38e.js";import"./motionUtil-c773f409.js";import"./shallowequal-aee54418.js";import"./roundedArrow-e2771650.js";import"./RightOutlined-811eef93.js";import"./firstNotUndefined-29a740f3.js";import"./collapseMotion-a3198536.js";import"./_baseSet-597e192b.js";import"./_toKey-f8a2c48c.js";import"./isSymbol-4808126a.js";import"./pickAttrs-7c36c3e9.js";import"./isMobile-12f0741d.js";import"./ExclamationCircleFilled-d404fa4e.js";import"./BasicTable-21da69d0.js";import"./omit-b91ff683.js";import"./_flatRest-00fa2235.js";import"./useTour-42456f6d.js";import"./CardList-527706f2.js";import"./css-1021bd93.js";import"./index-20ecb033.js";import"./LeftOutlined-2c031711.js";import"./SwapOutlined-5132679b.js";import"./index-75e981cc.js";import"./eagerComputed-327a0c00.js";import"./responsiveObserve-dd206e94.js";import"./index-2e1e68bc.js";import"./index-8de211b8.js";import"./index-97432be2.js";import"./useFlexGapSupport-b50d290f.js";import"./styleChecker-c17e3bbb.js";import"./index-729770bf.js";import"./CaretDownOutlined-4e6bfc62.js";import"./debounce-849adbc2.js";import"./index-d2655575.js";import"./Col-5366a844.js";import"./hasIn-bc278bbb.js";import"./_arrayIncludesWith-2f006ba6.js";import"./useRefs-d53d1c11.js";const N=()=>({email:"",joinDate:"",nickname:"",phone:"",thumbnail:{url:""},userStatus:{label:"",value:""},workspaceUserId:""}),he={class:"post-detail"},$e={class:"img-wrapper"},Me=["src"],Se={class:"form-item-wrapper"},Ue={class:"btn-wrapper"},Q=q({__name:"PostDetail",props:{data:{}},setup(v){const _=v,y=S.R,{t:d}=A(),{Item:m}=F,[I,T]=H.useModal(),g=Y(()=>u.value===S.C||u.value===S.U),w=r([{label:"활성",value:"ACTIVE"},{label:"비활성",value:"INACTIVE"},{label:"탈퇴",value:"WITHDRAWN"},{label:"퇴출",value:"REVOKE"}]),u=r(y),b=r(!1),C=r(),l=Z({data:N(),cloneData:N()}),x=async()=>{console.log("click onSubmit")},R=()=>{u.value=S.C},E=()=>{I.confirm({title:d("message.modalDeleteCheck"),icon:oe(de),okText:d("component.button.ok"),okType:"primary",cancelText:d("component.button.cancel")})},P=()=>{u.value=y,b.value=!1,l.data=l.cloneData};return ee(()=>_.data,s=>{l.data={...s},l.cloneData=be(s)},{immediate:!0}),(s,i)=>{const h=fe,j=ve,B=_e,n=W;return k(),L("div",he,[g.value?(k(),U(o(F),{key:1,ref_key:"formRef",ref:C,layout:"horizontal",model:l},{default:a(()=>[e(o(m),{name:"nickname"},{default:a(()=>[e(o(M),{value:l.data.nickname,"onUpdate:value":i[2]||(i[2]=t=>l.data.nickname=t),label:s.$t("common.name")},null,8,["value","label"])]),_:1}),e(o(m),null,{default:a(()=>[e(o(ue),{value:l.data.userStatus,"onUpdate:value":i[3]||(i[3]=t=>l.data.userStatus=t),options:w.value,label:s.$t("common.status")},null,8,["value","options","label"])]),_:1}),e(o(m),{name:"email"},{default:a(()=>[e(o(M),{value:l.data.email,"onUpdate:value":i[4]||(i[4]=t=>l.data.email=t),label:s.$t("common.email")},null,8,["value","label"])]),_:1}),e(o(m),{name:"phone"},{default:a(()=>[e(o(M),{value:l.data.phone,"onUpdate:value":i[5]||(i[5]=t=>l.data.phone=t),label:s.$t("common.phone")},null,8,["value","label"])]),_:1}),e(o(m),{name:"joinDate"},{default:a(()=>[e(o(M),{value:l.data.joinDate,"onUpdate:value":i[6]||(i[6]=t=>l.data.joinDate=t),label:s.$t("common.joinDate"),disabled:""},null,8,["value","label"])]),_:1}),p("div",Ue,[e(n,{onClick:P},{default:a(()=>[e(o(ke))]),_:1}),e(n,{onClick:x,type:"primary"},{default:a(()=>[e(o(ye))]),_:1})])]),_:1},8,["model"])):(k(),U(o(F),{key:0,layout:"horizontal",model:l,class:"form-wrapper"},{default:a(()=>{var t;return[p("div",$e,[p("img",{src:(t=l.data.thumbnail)==null?void 0:t.url},null,8,Me)]),p("div",Se,[e(o(m),{label:s.$t("common.name"),name:"nickname"},{default:a(()=>[D(c(l.data.nickname),1)]),_:1},8,["label"]),e(o(m),{label:s.$t("common.status"),name:"userStatus"},{default:a(()=>[D(c(l.data.userStatus.label),1)]),_:1},8,["label"]),e(o(m),{label:s.$t("common.email"),name:"email"},{default:a(()=>[D(c(l.data.email),1)]),_:1},8,["label"]),e(o(m),{label:s.$t("common.phone"),name:"phone"},{default:a(()=>[D(c(l.data.phone||"-"),1)]),_:1},8,["label"]),e(o(m),{label:s.$t("common.joinDate"),name:"joinDate"},{default:a(()=>[D(c(l.data.joinDate),1)]),_:1},8,["label"])]),e(B,{open:b.value,"onUpdate:open":i[1]||(i[1]=O=>b.value=O),trigger:["click"]},{overlay:a(()=>[e(j,null,{default:a(()=>[e(h,{key:"1",onClick:R},{default:a(()=>[p("span",null,c(o(d)("common.postModify")),1)]),_:1}),e(h,{key:"2",onClick:E},{default:a(()=>[p("span",null,c(o(d)("component.button.export")),1)]),_:1})]),_:1})]),default:a(()=>[p("a",{class:"ant-dropdown-link",onClick:i[0]||(i[0]=te(()=>{},["prevent"]))},[e(o(ce),{style:{"font-size":"18px"}})])]),_:1},8,["open"])]}),_:1},8,["model"])),e(o(T))])}}});const Te=K(Q,[["__scopeId","data-v-1a087290"]]);Q.__docgenInfo={exportName:"default",displayName:"PostDetail",description:"",tags:{},props:[{name:"data",required:!0,type:{name:"WorkspaceUsers"}}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/manage/manage-users/components/PostDetail.vue"]};const xe=()=>{const{t:v}=A();return[{title:`${v("common.name")}`,dataIndex:"nickname",key:"nickname"},{title:`${v("common.email")}`,dataIndex:"email",key:"email"},{title:`${v("common.phone")}`,dataIndex:"phone",key:"phone"},{title:`${v("common.joinDate")}`,dataIndex:"joinDate",key:"joinDate"},{title:`${v("common.status")}`,dataIndex:"userStatus",key:"userStatus",customRender:({value:_})=>_.label}]},Re={class:"manage-users-container"},Ee={class:"detail-contents"},Pe={class:"invite-form-wrapper"},je={class:"title"},G=q({__name:"index",setup(v){const{t:_}=A(),y={Detail:{key:"Detail",title:_("common.detail"),component:z(()=>V(()=>import("./UserDetail-e0fdd305.js"),["./UserDetail-e0fdd305.js","./vue.esm-bundler-06433f34.js","./index-2fe437c2.js","./_commonjsHelpers-de833af9.js","./index-6cf4e6ab.js","./vue-router-09c98cdc.js","./index-f9a7754c.js","./FilterForm-0cbd5abc.js","./index-fe2cee87.js","./_arrayLikeKeys-856a4a59.js","./compact-item-943b0817.js","./extends-98964cd2.js","./_overRest-fdd2e9e6.js","./isArrayLikeObject-18ce9678.js","./isPlainObject-7ca50782.js","./dayjs.min-bd65d405.js","./pinia-1c824524.js","./Accordion-0d466002.js","./index-c186720f.js","./FormItemContext-d5d2b6af.js","./statusUtils-981b964f.js","./vnode-0120d1ab.js","./CloseCircleFilled-0e0600c9.js","./index-9435a495.js","./index-aab19e1a.js","./index-df6759cb.js","./index-7bc94af2.js","./EyeOutlined-3dbe0b46.js","./index-30344dd3.js","./motion-8927e1f6.js","./_plugin-vue_export-helper-c27b6911.js","./index-0fc5836e.js","./index-9c7320cf.js","./KeyCode-5dbefdba.js","./colors-897f8409.js","./ClockCircleOutlined-ec564bb6.js","./useMergedState-9fc4af37.js","./slide-14b3f38e.js","./motionUtil-c773f409.js","./index-0b93d195.js","./pickAttrs-7c36c3e9.js","./isMobile-12f0741d.js","./shallowequal-aee54418.js","./roundedArrow-e2771650.js","./RightOutlined-811eef93.js","./firstNotUndefined-29a740f3.js","./collapseMotion-a3198536.js","./Accordion-0db05fe0.css","./Button-f7730f75.js","./Button-bb7a377a.css","./DropdownButton-c71d963a.js","./FilterForm-e51dbf9c.css","./_baseSet-597e192b.js","./_toKey-f8a2c48c.js","./isSymbol-4808126a.js","./vue-i18n.runtime-ed730321.js","./iframe-4d7f0ef5.js","./index-1bdfef9a.js","./InfoCircleOutlined-588a8397.js","./ExclamationCircleFilled-d404fa4e.js","./cloneDeep-63a05421.js","./index-b2fd6c35.js","./index-68075f0c.js","./responsiveObserve-dd206e94.js","./UserDetail-7f3ade3d.css"],import.meta.url))},History:{key:"History",title:_("page.manage.history"),component:z(()=>V(()=>import("./UserTimeline-1b5497b7.js"),["./UserTimeline-1b5497b7.js","./vue.esm-bundler-06433f34.js","./index-2fe437c2.js","./_commonjsHelpers-de833af9.js","./index-6cf4e6ab.js","./vue-router-09c98cdc.js","./index-f9a7754c.js","./FilterForm-0cbd5abc.js","./index-fe2cee87.js","./_arrayLikeKeys-856a4a59.js","./compact-item-943b0817.js","./extends-98964cd2.js","./_overRest-fdd2e9e6.js","./isArrayLikeObject-18ce9678.js","./isPlainObject-7ca50782.js","./dayjs.min-bd65d405.js","./pinia-1c824524.js","./Accordion-0d466002.js","./index-c186720f.js","./FormItemContext-d5d2b6af.js","./statusUtils-981b964f.js","./vnode-0120d1ab.js","./CloseCircleFilled-0e0600c9.js","./index-9435a495.js","./index-aab19e1a.js","./index-df6759cb.js","./index-7bc94af2.js","./EyeOutlined-3dbe0b46.js","./index-30344dd3.js","./motion-8927e1f6.js","./_plugin-vue_export-helper-c27b6911.js","./index-0fc5836e.js","./index-9c7320cf.js","./KeyCode-5dbefdba.js","./colors-897f8409.js","./ClockCircleOutlined-ec564bb6.js","./useMergedState-9fc4af37.js","./slide-14b3f38e.js","./motionUtil-c773f409.js","./index-0b93d195.js","./pickAttrs-7c36c3e9.js","./isMobile-12f0741d.js","./shallowequal-aee54418.js","./roundedArrow-e2771650.js","./RightOutlined-811eef93.js","./firstNotUndefined-29a740f3.js","./collapseMotion-a3198536.js","./Accordion-0db05fe0.css","./Button-f7730f75.js","./Button-bb7a377a.css","./DropdownButton-c71d963a.js","./FilterForm-e51dbf9c.css","./_baseSet-597e192b.js","./_toKey-f8a2c48c.js","./isSymbol-4808126a.js","./vue-i18n.runtime-ed730321.js","./iframe-4d7f0ef5.js","./index-1bdfef9a.js","./InfoCircleOutlined-588a8397.js","./ExclamationCircleFilled-d404fa4e.js","./cloneDeep-63a05421.js","./index-d69220fe.js","./index-17b6ca45.js","./index-e64babe4.js","./index-d60115d6.css","./UserTimeline-6f11c1fb.css"],import.meta.url))}},{getWorkspaceId:d}=se(),m=r(N()),I=r(),T=r(),g=r(),w=r(!1),u=r(!1),b=r(!1),C=r(y.Detail.key),l=async n=>await $.getUserList(d||"",n),x=()=>$.getSortableCodes(),R=()=>$.getPageInfo(),E=n=>{const{workspaceUsers:t}=n;return t},P=n=>n,s=n=>n.map(t=>({...t,title:t.nickname,tag:t.userStatus.label,content:t.phone&&`<div style="display: flex; align-items: center; gap: 8px;"><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#7b828e" d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>${t.phone}</div>`,date:`${_("common.joinDate")}: `+t.joinDate})),i=n=>{w.value=!0,C.value=y.Detail.key,m.value=n,I.value=n.workspaceUserId},h=async()=>{try{b.value=!0;const n=g.value.tags;d&&await $.inviteUsers(d,{inviteEmails:n}),Ce.success("초대가 완료되었습니다.",1),u.value=!1,b.value=!1}finally{g.value.onInitInviteEmails()}},j=(n,t)=>{console.log(n,t),H.confirm({content:"선택한 사용자를 내보내시겠습니까?",icon:e(Ie),onOk(){}})},B=()=>{u.value=!1,g.value.onInitInviteEmails()};return(n,t)=>{const O=W,J=ge,X=De;return k(),L("div",Re,[e(o(re),{openDetail:w.value,"onUpdate:openDetail":t[2]||(t[2]=f=>w.value=f),ref_key:"dynamicTableRef",ref:T,columns:o(xe)(),"row-key":"index","data-request":l,"column-request":x,"filter-request":R,"data-callback":E,"content-callback":P,"card-content-callback":s,showDownload:!1,showRegist:!1,phText:n.$t("component.ph.userSearchPh"),deleteBtnText:n.$t("component.button.export"),onRowClick:i,onRowAdd:t[3]||(t[3]=f=>u.value=!0),onRowDelete:j},{tableBtns:a(()=>[e(O,{label:n.$t("component.button.invite"),size:"middle",onClick:t[0]||(t[0]=f=>n.$emit("row-add",u.value=!0))},{icon:a(()=>[e(o(we),{style:{color:"#1890ff"}})]),_:1},8,["label"])]),"detail-title":a(()=>[p("span",null,c(n.$t("page.manage.userInfo")),1)]),"detail-content":a(()=>[p("div",Ee,[e(Te,{ref:"postDetailRef",data:m.value},null,8,["data"]),e(X,{"active-key":C.value,"onUpdate:activeKey":t[1]||(t[1]=f=>C.value=f),destroyInactiveTabPane:!0,tabBarGutter:70,tabBarStyle:{padding:"0 10%",display:"flex"}},{default:a(()=>[(k(),L(ae,null,ne(y,(f,Be)=>e(J,{key:f.key,tab:f.title},{default:a(()=>[(k(),U(le(f.component),{workspaceUserId:I.value},null,8,["workspaceUserId"]))]),_:2},1032,["tab"])),64))]),_:1},8,["active-key"])])]),_:1},8,["openDetail","columns","phText","deleteBtnText"]),u.value?(k(),U(o(pe),{key:0,onCancel:B,onOk:h,isModalLoading:b.value,class:"invite-modal"},{title:a(()=>[D(c(n.$t("page.manage.userInvite")),1)]),body:a(()=>[p("div",Pe,[p("h4",je,c(n.$t("page.manage.emailInvite")),1),e(me,{ref_key:"inviteMemberRef",ref:g,isShowDescription:!1,isShowJump:!1},null,512)])]),_:1},8,["isModalLoading"])):ie("",!0)])}}});const So=K(G,[["__scopeId","data-v-4bd959a2"]]);G.__docgenInfo={exportName:"default",displayName:"manage-users",description:"",tags:{},events:[{name:"row-add"}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/manage/manage-users/index.vue"]};export{So as default};
