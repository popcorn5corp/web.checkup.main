import{j as ae,k as he,w as V,o as ye,d as C,f as j,n as r,N as F,F as q,b as J,K,s as be,B as Ce,u as xe,y as $e}from"./vue.esm-bundler-06433f34.js";import{a as we,u as Pe}from"./useTour-42456f6d.js";import{M as te,X as B,F as T,Y as se,K as Z,_ as d,l as N,n as Se,k as X,D as Te,W as ke,ab as Oe,am as Ie,g as Be,m as Ne,an as z,r as Re,q as _e,u as je}from"./compact-item-943b0817.js";import{_ as x}from"./extends-98964cd2.js";import{T as Ae,t as Me}from"./slide-14b3f38e.js";import{u as ne}from"./useMergedState-9fc4af37.js";import{P as ie}from"./motion-8927e1f6.js";import{C as Ee}from"./KeyCode-5dbefdba.js";import{B as oe}from"./index-aab19e1a.js";import{M as Fe,g as ze,a as De}from"./DropdownButton-c71d963a.js";function Ve(e){const n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,{top:t,right:o,bottom:p,left:f}=e.getBoundingClientRect();return t>=0&&f>=0&&o<=n&&p<=i}function Le(e,n,i,t){const[o,p]=te(void 0);ae(()=>{const l=typeof e.value=="function"?e.value():e.value;p(l||null)},{flush:"post"});const[f,a]=te(null),g=()=>{if(!n.value){a(null);return}if(o.value){!Ve(o.value)&&n.value&&o.value.scrollIntoView(t.value);const{left:l,top:u,width:v,height:y}=o.value.getBoundingClientRect(),m={left:l,top:u,width:v,height:y,radius:0};JSON.stringify(f.value)!==JSON.stringify(m)&&a(m)}else a(null)};return he(()=>{V([n,o],()=>{g()},{flush:"post",immediate:!0}),window.addEventListener("resize",g)}),ye(()=>{window.removeEventListener("resize",g)}),[C(()=>{var l,u;if(!f.value)return f.value;const v=((l=i.value)===null||l===void 0?void 0:l.offset)||6,y=((u=i.value)===null||u===void 0?void 0:u.radius)||2;return{left:f.value.left-v,top:f.value.top-v,width:f.value.width+v*2,height:f.value.height+v*2,radius:y}}),o]}const He=()=>({arrow:T([Boolean,Object]),target:T([String,Function,Object]),title:T([String,Object]),description:T([String,Object]),placement:se(),mask:T([Object,Boolean],!0),className:{type:String},style:Z(),scrollIntoViewOptions:T([Boolean,Object])}),G=()=>x(x({},He()),{prefixCls:{type:String},total:{type:Number},current:{type:Number},onClose:B(),onFinish:B(),renderPanel:B(),onPrev:B(),onNext:B()}),We=j({name:"DefaultPanel",inheritAttrs:!1,props:G(),setup(e,n){let{attrs:i}=n;return()=>{const{prefixCls:t,current:o,total:p,title:f,description:a,onClose:g,onPrev:s,onNext:l,onFinish:u}=e;return r("div",d(d({},i),{},{class:N(`${t}-content`,i.class)}),[r("div",{class:`${t}-inner`},[r("button",{type:"button",onClick:g,"aria-label":"Close",class:`${t}-close`},[r("span",{class:`${t}-close-x`},[F("×")])]),r("div",{class:`${t}-header`},[r("div",{class:`${t}-title`},[f])]),r("div",{class:`${t}-description`},[a]),r("div",{class:`${t}-footer`},[r("div",{class:`${t}-sliders`},[p>1?[...Array.from({length:p}).keys()].map((v,y)=>r("span",{key:v,class:y===o?"active":""},null)):null]),r("div",{class:`${t}-buttons`},[o!==0?r("button",{class:`${t}-prev-btn`,onClick:s},[F("Prev")]):null,o===p-1?r("button",{class:`${t}-finish-btn`,onClick:u},[F("Finish")]):r("button",{class:`${t}-next-btn`,onClick:l},[F("Next")])])])])])}}}),Ue=We,Xe=j({name:"TourStep",inheritAttrs:!1,props:G(),setup(e,n){let{attrs:i}=n;return()=>{const{current:t,renderPanel:o}=e;return r(q,null,[typeof o=="function"?o(x(x({},i),e),t):r(Ue,d(d({},i),e),null)])}}}),qe=Xe;let re=0;const Je=Se();function Ke(){let e;return Je?(e=re,re+=1):e="TEST_OR_SSR",e}function Ze(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J("");const n=`vc_unique_${Ke()}`;return e.value||n}const D={fill:"transparent","pointer-events":"auto"},Ge=j({name:"TourMask",props:{prefixCls:{type:String},pos:Z(),rootClassName:{type:String},showMask:X(),fill:{type:String,default:"rgba(0,0,0,0.5)"},open:X(),animated:T([Boolean,Object]),zIndex:{type:Number}},setup(e,n){let{attrs:i}=n;const t=Ze();return()=>{const{prefixCls:o,open:p,rootClassName:f,pos:a,showMask:g,fill:s,animated:l,zIndex:u}=e,v=`${o}-mask-${t}`,y=typeof l=="object"?l==null?void 0:l.placeholder:l;return r(ie,{visible:p,autoLock:!0},{default:()=>p&&r("div",d(d({},i),{},{class:N(`${o}-mask`,f,i.class),style:[{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:u,pointerEvents:"none"},i.style]}),[g?r("svg",{style:{width:"100%",height:"100%"}},[r("defs",null,[r("mask",{id:v},[r("rect",{x:"0",y:"0",width:"100vw",height:"100vh",fill:"white"},null),a&&r("rect",{x:a.left,y:a.top,rx:a.radius,width:a.width,height:a.height,fill:"black",class:y?`${o}-placeholder-animated`:""},null)])]),r("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:s,mask:`url(#${v})`},null),a&&r(q,null,[r("rect",d(d({},D),{},{x:"0",y:"0",width:"100%",height:a.top}),null),r("rect",d(d({},D),{},{x:"0",y:"0",width:a.left,height:"100%"}),null),r("rect",d(d({},D),{},{x:"0",y:a.top+a.height,width:"100%",height:`calc(100vh - ${a.top+a.height}px)`}),null),r("rect",d(d({},D),{},{x:a.left+a.width,y:"0",width:`calc(100vw - ${a.left+a.width}px)`,height:"100%"}),null)])]):null])})}}}),Ye=Ge,Qe=[0,0],le={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function ue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n={};return Object.keys(le).forEach(i=>{n[i]=x(x({},le[i]),{autoArrow:e,targetOffset:Qe})}),n}ue();var et=globalThis&&globalThis.__rest||function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(i[t[o]]=e[t[o]]);return i};const U={left:"50%",top:"50%",width:"1px",height:"1px"},ce=()=>{const{builtinPlacements:e,popupAlign:n}=Me();return{builtinPlacements:e,popupAlign:n,steps:ke(),open:X(),defaultCurrent:{type:Number},current:{type:Number},onChange:B(),onClose:B(),onFinish:B(),mask:T([Boolean,Object],!0),arrow:T([Boolean,Object],!0),rootClassName:{type:String},placement:se("bottom"),prefixCls:{type:String,default:"rc-tour"},renderPanel:B(),gap:Z(),animated:T([Boolean,Object]),scrollIntoViewOptions:T([Boolean,Object],!0),zIndex:{type:Number,default:1001}}},tt=j({name:"Tour",inheritAttrs:!1,props:Te(ce(),{}),setup(e){const{defaultCurrent:n,placement:i,mask:t,scrollIntoViewOptions:o,open:p,gap:f,arrow:a}=K(e),g=J(),[s,l]=ne(0,{value:C(()=>e.current),defaultValue:n.value}),[u,v]=ne(void 0,{value:C(()=>e.open),postState:c=>s.value<0||s.value>=e.steps.length?!1:c??!0}),y=be(u.value);ae(()=>{u.value&&!y.value&&l(0),y.value=u.value});const m=C(()=>e.steps[s.value]||{}),R=C(()=>{var c;return(c=m.value.placement)!==null&&c!==void 0?c:i.value}),b=C(()=>{var c;return u.value&&((c=m.value.mask)!==null&&c!==void 0?c:t.value)}),w=C(()=>{var c;return(c=m.value.scrollIntoViewOptions)!==null&&c!==void 0?c:o.value}),[$,P]=Le(C(()=>m.value.target),p,f,w),S=C(()=>P.value?typeof m.value.arrow>"u"?a.value:m.value.arrow:!1),k=C(()=>typeof S.value=="object"?S.value.pointAtCenter:!1);V(k,()=>{var c;(c=g.value)===null||c===void 0||c.forcePopupAlign()}),V(s,()=>{var c;(c=g.value)===null||c===void 0||c.forcePopupAlign()});const O=c=>{var h;l(c),(h=e.onChange)===null||h===void 0||h.call(e,c)};return()=>{var c;const{prefixCls:h,steps:I,onClose:_,onFinish:L,rootClassName:H,renderPanel:de,animated:pe,zIndex:Y}=e,Q=et(e,["prefixCls","steps","onClose","onFinish","rootClassName","renderPanel","animated","zIndex"]);if(P.value===void 0)return null;const ee=()=>{v(!1),_==null||_(s.value)},ve=typeof b.value=="boolean"?b.value:!!b.value,A=typeof b.value=="boolean"?void 0:b.value,fe=()=>P.value||document.body,me=()=>r(qe,d({arrow:S.value,key:"content",prefixCls:h,total:I.length,renderPanel:de,onPrev:()=>{O(s.value-1)},onNext:()=>{O(s.value+1)},onClose:ee,current:s.value,onFinish:()=>{ee(),L==null||L()}},m.value),null),ge=C(()=>{const E=$.value||U,W={};return Object.keys(E).forEach(M=>{typeof E[M]=="number"?W[M]=`${E[M]}px`:W[M]=E[M]}),W});return u.value?r(q,null,[r(Ye,{zIndex:Y,prefixCls:h,pos:$.value,showMask:ve,style:A==null?void 0:A.style,fill:A==null?void 0:A.color,open:u.value,animated:pe,rootClassName:H},null),r(Ae,d(d({},Q),{},{builtinPlacements:m.value.target?(c=Q.builtinPlacements)!==null&&c!==void 0?c:ue(k.value):void 0,ref:g,popupStyle:m.value.target?m.value.style:x(x({},m.value.style),{position:"fixed",left:U.left,top:U.top,transform:"translate(-50%, -50%)"}),popupPlacement:R.value,popupVisible:u.value,popupClassName:N(H,m.value.className),prefixCls:h,popup:me,forceRender:!1,destroyPopupOnHide:!0,zIndex:Y,mask:!1,getTriggerDOMNode:fe}),{default:()=>[r(ie,{visible:u.value,autoLock:!0},{default:()=>[r("div",{class:N(H,`${h}-target-placeholder`),style:x(x({},ge.value),{position:"fixed",pointerEvents:"none"})},null)]})]})]):null}}}),nt=tt,ot=()=>x(x({},ce()),{steps:{type:Array},prefixCls:{type:String},current:{type:Number},type:{type:String},"onUpdate:current":Function}),rt=()=>x(x({},G()),{cover:{type:Object},nextButtonProps:{type:Object},prevButtonProps:{type:Object},current:{type:Number},type:{type:String}}),lt=j({name:"ATourPanel",inheritAttrs:!1,props:rt(),setup(e,n){let{attrs:i,slots:t}=n;const{current:o,total:p}=K(e),f=C(()=>o.value===p.value-1),a=s=>{var l;const u=e.prevButtonProps;(l=e.onPrev)===null||l===void 0||l.call(e,s),typeof(u==null?void 0:u.onClick)=="function"&&(u==null||u.onClick())},g=s=>{var l,u;const v=e.nextButtonProps;f.value?(l=e.onFinish)===null||l===void 0||l.call(e,s):(u=e.onNext)===null||u===void 0||u.call(e,s),typeof(v==null?void 0:v.onClick)=="function"&&(v==null||v.onClick())};return()=>{const{prefixCls:s,title:l,onClose:u,cover:v,description:y,type:m,arrow:R}=e,b=e.prevButtonProps,w=e.nextButtonProps;let $;l&&($=r("div",{class:`${s}-header`},[r("div",{class:`${s}-title`},[l])]));let P;y&&(P=r("div",{class:`${s}-description`},[y]));let S;v&&(S=r("div",{class:`${s}-cover`},[v]));let k;t.indicatorsRender?k=t.indicatorsRender({current:o.value,total:p}):k=[...Array.from({length:p.value}).keys()].map((h,I)=>r("span",{key:h,class:N(I===o.value&&`${s}-indicator-active`,`${s}-indicator`)},null));const O=m==="primary"?"default":"primary",c={type:"default",ghost:m==="primary"};return r(Ie,{componentName:"Tour",defaultLocale:Oe.Tour},{default:h=>{var I,_;return r("div",d(d({},i),{},{class:N(m==="primary"?`${s}-primary`:"",i.class,`${s}-content`)}),[R&&r("div",{class:`${s}-arrow`,key:"arrow"},null),r("div",{class:`${s}-inner`},[r(Ee,{class:`${s}-close`,onClick:u},null),S,$,P,r("div",{class:`${s}-footer`},[p.value>1&&r("div",{class:`${s}-indicators`},[k]),r("div",{class:`${s}-buttons`},[o.value!==0?r(oe,d(d(d({},c),b),{},{onClick:a,size:"small",class:N(`${s}-prev-btn`,b==null?void 0:b.className)}),{default:()=>[(I=b==null?void 0:b.children)!==null&&I!==void 0?I:h.Previous]}):null,r(oe,d(d({type:O},w),{},{onClick:g,size:"small",class:N(`${s}-next-btn`,w==null?void 0:w.className)}),{default:()=>[(_=w==null?void 0:w.children)!==null&&_!==void 0?_:f.value?h.Finish:h.Next]})])])])])}})}}}),at=lt,st=e=>{let{defaultType:n,steps:i,current:t,defaultCurrent:o}=e;const p=J(o==null?void 0:o.value),f=C(()=>t==null?void 0:t.value);V(f,l=>{p.value=l??(o==null?void 0:o.value)},{immediate:!0});const a=l=>{p.value=l},g=C(()=>{var l,u;return typeof p.value=="number"?i&&((u=(l=i.value)===null||l===void 0?void 0:l[p.value])===null||u===void 0?void 0:u.type):n==null?void 0:n.value});return{currentMergedType:C(()=>{var l;return(l=g.value)!==null&&l!==void 0?l:n==null?void 0:n.value}),updateInnerCurrent:a}},it=st,ut=e=>{const{componentCls:n,lineHeight:i,padding:t,paddingXS:o,borderRadius:p,borderRadiusXS:f,colorPrimary:a,colorText:g,colorFill:s,indicatorHeight:l,indicatorWidth:u,boxShadowTertiary:v,tourZIndexPopup:y,fontSize:m,colorBgContainer:R,fontWeightStrong:b,marginXS:w,colorTextLightSolid:$,tourBorderRadius:P,colorWhite:S,colorBgTextHover:k,tourCloseSize:O,motionDurationSlow:c,antCls:h}=e;return[{[n]:x(x({},Re(e)),{color:g,position:"absolute",zIndex:y,display:"block",visibility:"visible",fontSize:m,lineHeight:i,width:520,"--antd-arrow-background-color":R,"&-pure":{maxWidth:"100%",position:"relative"},[`&${n}-hidden`]:{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:P,boxShadow:v,position:"relative",backgroundColor:R,border:"none",backgroundClip:"padding-box",[`${n}-close`]:{position:"absolute",top:t,insetInlineEnd:t,color:e.colorIcon,outline:"none",width:O,height:O,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${n}-cover`]:{textAlign:"center",padding:`${t+O+o}px ${t}px 0`,img:{width:"100%"}},[`${n}-header`]:{padding:`${t}px ${t}px ${o}px`,[`${n}-title`]:{lineHeight:i,fontSize:m,fontWeight:b}},[`${n}-description`]:{padding:`0 ${t}px`,lineHeight:i,wordWrap:"break-word"},[`${n}-footer`]:{padding:`${o}px ${t}px ${t}px`,textAlign:"end",borderRadius:`0 0 ${f}px ${f}px`,display:"flex",[`${n}-indicators`]:{display:"inline-block",[`${n}-indicator`]:{width:u,height:l,display:"inline-block",borderRadius:"50%",background:s,"&:not(:last-child)":{marginInlineEnd:l},"&-active":{background:a}}},[`${n}-buttons`]:{marginInlineStart:"auto",[`${h}-btn`]:{marginInlineStart:w}}}},[`${n}-primary, &${n}-primary`]:{"--antd-arrow-background-color":a,[`${n}-inner`]:{color:$,textAlign:"start",textDecoration:"none",backgroundColor:a,borderRadius:p,boxShadow:v,[`${n}-close`]:{color:$},[`${n}-indicators`]:{[`${n}-indicator`]:{background:new z($).setAlpha(.15).toRgbString(),"&-active":{background:$}}},[`${n}-prev-btn`]:{color:$,borderColor:new z($).setAlpha(.15).toRgbString(),backgroundColor:a,"&:hover":{backgroundColor:new z($).setAlpha(.15).toRgbString(),borderColor:"transparent"}},[`${n}-next-btn`]:{color:a,borderColor:"transparent",background:S,"&:hover":{background:new z(k).onBackground(S).toRgbString()}}}}}),[`${n}-mask`]:{[`${n}-placeholder-animated`]:{transition:`all ${c}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:Math.min(P,Fe)}}},ze(e,{colorBg:"var(--antd-arrow-background-color)",contentRadius:P,limitVerticalRadius:!0})]},ct=Be("Tour",e=>{const{borderRadiusLG:n,fontSize:i,lineHeight:t}=e,o=Ne(e,{tourZIndexPopup:e.zIndexPopupBase+70,indicatorWidth:6,indicatorHeight:6,tourBorderRadius:n,tourCloseSize:i*t});return[ut(o)]});var dt=globalThis&&globalThis.__rest||function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(i[t[o]]=e[t[o]]);return i};const pt=j({name:"ATour",inheritAttrs:!1,props:ot(),setup(e,n){let{attrs:i,emit:t,slots:o}=n;const{current:p,type:f,steps:a,defaultCurrent:g}=K(e),{prefixCls:s,direction:l}=je("tour",e),[u,v]=ct(s),{currentMergedType:y,updateInnerCurrent:m}=it({defaultType:f,steps:a,current:p,defaultCurrent:g});return()=>{const{steps:R,current:b,type:w,rootClassName:$}=e,P=dt(e,["steps","current","type","rootClassName"]),S=N({[`${s.value}-primary`]:y.value==="primary",[`${s.value}-rtl`]:l.value==="rtl"},v.value,$),k=(h,I)=>r(at,d(d({},h),{},{type:w,current:I}),{indicatorsRender:o.indicatorsRender}),O=h=>{m(h),t("update:current",h),t("change",h)},c=C(()=>De({arrowPointAtCenter:!0,autoAdjustOverflow:!0}));return u(r(nt,d(d(d({},i),P),{},{rootClassName:S,prefixCls:s.value,current:b,defaultCurrent:e.defaultCurrent,animated:!0,renderPanel:k,onChange:O,steps:R,builtinPlacements:c.value}),null))}}}),vt=_e(pt),ft=j({__name:"Tour",props:{open:{type:Boolean},steps:{},prefixCls:{},current:{},type:{},"onUpdate:current":{type:Function},builtinPlacements:{},popupAlign:{},defaultCurrent:{},onChange:{type:Function},onClose:{type:Function},onFinish:{type:Function},mask:{type:[Boolean,Object]},arrow:{type:[Boolean,Object]},rootClassName:{},placement:{},renderPanel:{type:Function},gap:{},animated:{type:[Boolean,Object]},scrollIntoViewOptions:{type:Boolean},zIndex:{}},emits:["change","update:open"],setup(e,{emit:n}){const i=e,t=we(),o=Pe(),p=a=>{n("update:open",a)},f=a=>{t.changeTour(o.getCurrStep(i.steps,a)),n("change",a)};return(a,g)=>($e(),Ce(xe(vt),{open:a.open,steps:a.steps,onClose:g[0]||(g[0]=s=>p(!1)),onChange:f},null,8,["open","steps"]))}});ft.__docgenInfo={exportName:"default",displayName:"Tour",description:"",tags:{},props:[{name:"open",description:"투어 시작 여부",required:!0,type:{name:"boolean"}},{name:"steps",description:"투어 데이터",required:!0,type:{name:"Array",elements:[{name:"TourSteps"}]}}],events:[{name:"change",type:{names:["number"]},description:"스텝 변경시 Callback 함수",properties:[{type:{names:["mixed"]},name:"currentIndex"}],tags:[{title:"param",type:{name:"mixed"},name:"currentIndex"}]},{name:"update:open",type:{names:["boolean"]},description:"스텝 종료시 props open값 업데이트 함수",properties:[{type:{names:["mixed"]},name:"open"}],tags:[{title:"param",type:{name:"mixed"},name:"open"}]}],sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/components/tour/src/Tour.vue"]};export{ft as _};
