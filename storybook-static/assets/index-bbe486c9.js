import{g as F,m as L,r as j,u as O,o as D,_ as C,P as oe,w as re,n as ne,y as ae,c as ie,O as le,R as se,T as I,f as W,h as ce}from"./index-31244240.js";import{_ as m}from"./extends-98964cd2.js";import{G as ue,P as pe,d as M,s as A,e as E,w as G,o as de,N as R,f as h,b as ge,F as ve,p as me}from"./vue.esm-bundler-da3dfd31.js";import{u as fe,e as he}from"./eagerComputed-853093c5.js";import{r as Se}from"./responsiveObserve-1261ffb7.js";import{R as ye,P as xe}from"./colors-099fe84d.js";import{c as $e}from"./slide-ff6c039b.js";import{t as be,T as Ce,a as ze}from"./index-e44b3b0d.js";import{i as Pe}from"./Button-041be21e.js";import{g as we}from"./DropdownButton-0331ed8d.js";const ke=e=>{const{antCls:t,componentCls:r,iconCls:o,avatarBg:n,avatarColor:d,containerSize:i,containerSizeLG:u,containerSizeSM:g,textFontSize:p,textFontSizeLG:c,textFontSizeSM:x,borderRadius:l,borderRadiusLG:a,borderRadiusSM:S,lineWidth:v,lineType:$}=e,f=(b,s,y)=>({width:b,height:b,lineHeight:`${b-v*2}px`,borderRadius:"50%",[`&${r}-square`]:{borderRadius:y},[`${r}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${r}-icon`]:{fontSize:s,[`> ${o}`]:{margin:0}}});return{[r]:m(m(m(m({},j(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:d,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${v}px ${$} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),f(i,p,l)),{"&-lg":m({},f(u,c,a)),"&-sm":m({},f(g,x,S)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ae=e=>{const{componentCls:t,groupBorderColor:r,groupOverlapping:o,groupSpace:n}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:n}}}},X=F("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:r}=e,o=L(e,{avatarBg:r,avatarColor:t});return[ke(o),Ae(o)]},e=>{const{controlHeight:t,controlHeightLG:r,controlHeightSM:o,fontSize:n,fontSizeLG:d,fontSizeXL:i,fontSizeHeading3:u,marginXS:g,marginXXS:p,colorBorderBg:c}=e;return{containerSize:t,containerSizeLG:r,containerSizeSM:o,textFontSize:Math.round((d+i)/2),textFontSizeLG:u,textFontSizeSM:n,groupSpace:p,groupOverlapping:-g,groupBorderColor:c}}),q=Symbol("AvatarContextKey"),Te=()=>ue(q,{}),Be=e=>pe(q,e),_e=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:oe.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),Re=M({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:_e(),slots:Object,setup(e,t){let{slots:r,attrs:o}=t;const n=A(!0),d=A(!1),i=A(1),u=A(null),g=A(null),{prefixCls:p}=O("avatar",e),[c,x]=X(p),l=Te(),a=E(()=>e.size==="default"?l.size:e.size),S=fe(),v=he(()=>{if(typeof e.size!="object")return;const s=Se.find(P=>S.value[P]);return e.size[s]}),$=s=>v.value?{width:`${v.value}px`,height:`${v.value}px`,lineHeight:`${v.value}px`,fontSize:`${s?v.value/2:18}px`}:{},f=()=>{if(!u.value||!g.value)return;const s=u.value.offsetWidth,y=g.value.offsetWidth;if(s!==0&&y!==0){const{gap:P=4}=e;P*2<y&&(i.value=y-P*2<s?(y-P*2)/s:1)}},b=()=>{const{loadError:s}=e;(s==null?void 0:s())!==!1&&(n.value=!1)};return G(()=>e.src,()=>{R(()=>{n.value=!0,i.value=1})}),G(()=>e.gap,()=>{R(()=>{f()})}),de(()=>{R(()=>{f(),d.value=!0})}),()=>{var s,y;const{shape:P,src:B,alt:K,srcset:V,draggable:Z,crossOrigin:J}=e,Q=(s=l.shape)!==null&&s!==void 0?s:P,w=D(r,e,"icon"),z=p.value,U={[`${o.class}`]:!!o.class,[z]:!0,[`${z}-lg`]:a.value==="large",[`${z}-sm`]:a.value==="small",[`${z}-${Q}`]:!0,[`${z}-image`]:B&&n.value,[`${z}-icon`]:w,[x.value]:!0},Y=typeof a.value=="number"?{width:`${a.value}px`,height:`${a.value}px`,lineHeight:`${a.value}px`,fontSize:w?`${a.value/2}px`:"18px"}:{},H=(y=r.default)===null||y===void 0?void 0:y.call(r);let k;if(B&&n.value)k=h("img",{draggable:Z,src:B,srcset:V,onError:b,alt:K,crossorigin:J},null);else if(w)k=w;else if(d.value||i.value!==1){const _=`scale(${i.value}) translateX(-50%)`,ee={msTransform:_,WebkitTransform:_,transform:_},te=typeof a.value=="number"?{lineHeight:`${a.value}px`}:{};k=h(ye,{onResize:f},{default:()=>[h("span",{class:`${z}-string`,ref:u,style:m(m({},te),ee)},[H])]})}else k=h("span",{class:`${z}-string`,ref:u,style:{opacity:0}},[H]);return c(h("span",C(C({},o),{},{ref:g,class:U,style:[Y,$(!!w),o.style]}),[k]))}}}),T=Re,Ne=e=>{const{componentCls:t,popoverBg:r,popoverColor:o,width:n,fontWeightStrong:d,popoverPadding:i,boxShadowSecondary:u,colorTextHeading:g,borderRadiusLG:p,zIndexPopup:c,marginXS:x,colorBgElevated:l}=e;return[{[t]:m(m({},j(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":l,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:r,backgroundClip:"padding-box",borderRadius:p,boxShadow:u,padding:i},[`${t}-title`]:{minWidth:n,marginBottom:x,color:g,fontWeight:d},[`${t}-inner-content`]:{color:o}})},we(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",[`${t}-content`]:{display:"inline-block"}}}]},Oe=e=>{const{componentCls:t}=e;return{[t]:xe.map(r=>{const o=e[`${r}-6`];return{[`&${t}-${r}`]:{"--antd-arrow-background-color":o,[`${t}-inner`]:{backgroundColor:o},[`${t}-arrow`]:{background:"transparent"}}}})}},Me=e=>{const{componentCls:t,lineWidth:r,lineType:o,colorSplit:n,paddingSM:d,controlHeight:i,fontSize:u,lineHeight:g,padding:p}=e,c=i-Math.round(u*g),x=c/2,l=c/2-r,a=p;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${x}px ${a}px ${l}px`,borderBottom:`${r}px ${o} ${n}`},[`${t}-inner-content`]:{padding:`${d}px ${a}px`}}}},Ee=F("Popover",e=>{const{colorBgElevated:t,colorText:r,wireframe:o}=e,n=L(e,{popoverBg:t,popoverColor:r,popoverPadding:12});return[Ne(n),Oe(n),o&&Me(n),Pe(n,"zoom-big")]},e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+30,width:177}}),He=()=>m(m({},ze()),{content:I(),title:I()}),Ie=M({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:ne(He(),m(m({},be()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,t){let{expose:r,slots:o,attrs:n}=t;const d=ge();ae(e.visible===void 0),r({getPopupDomNode:()=>{var l,a;return(a=(l=d.value)===null||l===void 0?void 0:l.getPopupDomNode)===null||a===void 0?void 0:a.call(l)}});const{prefixCls:i,configProvider:u}=O("popover",e),[g,p]=Ee(i),c=E(()=>u.getPrefixCls()),x=()=>{var l,a;const{title:S=W((l=o.title)===null||l===void 0?void 0:l.call(o)),content:v=W((a=o.content)===null||a===void 0?void 0:a.call(o))}=e,$=!!(Array.isArray(S)?S.length:S),f=!!(Array.isArray(v)?v.length:S);return!$&&!f?null:h(ve,null,[$&&h("div",{class:`${i.value}-title`},[S]),h("div",{class:`${i.value}-inner-content`},[v])])};return()=>{const l=ie(e.overlayClassName,p.value);return g(h(Ce,C(C(C({},se(e,["title","content"])),n),{},{prefixCls:i.value,ref:d,overlayClassName:l,transitionName:le(c.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:x,default:o.default}))}}}),We=re(Ie),Ge=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),Fe=M({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Ge(),setup(e,t){let{slots:r,attrs:o}=t;const{prefixCls:n,direction:d}=O("avatar",e),i=E(()=>`${n.value}-group`),[u,g]=X(n);return me(()=>{const p={size:e.size,shape:e.shape};Be(p)}),()=>{const{maxPopoverPlacement:p="top",maxCount:c,maxStyle:x,maxPopoverTrigger:l="hover",shape:a}=e,S={[i.value]:!0,[`${i.value}-rtl`]:d.value==="rtl",[`${o.class}`]:!!o.class,[g.value]:!0},v=D(r,e),$=ce(v).map((b,s)=>$e(b,{key:`avatar-key-${s}`})),f=$.length;if(c&&c<f){const b=$.slice(0,c),s=$.slice(c,f);return b.push(h(We,{key:"avatar-popover-key",content:s,trigger:l,placement:p,overlayClassName:`${i.value}-popover`},{default:()=>[h(T,{style:x,shape:a},{default:()=>[`+${f-c}`]})]})),u(h("div",C(C({},o),{},{class:S,style:o.style}),[b]))}return u(h("div",C(C({},o),{},{class:S,style:o.style}),[$]))}}}),N=Fe;T.Group=N;T.install=function(e){return e.component(T.name,T),e.component(N.name,N),e};export{T as A,N as _};
