import{_ as k}from"./Button-f7730f75.js";import{f as C,K as I,b as c,y as w,z as h,O as i,S as u,n as l,u as s,Y as b,M as y,F as N}from"./vue.esm-bundler-06433f34.js";import{u as B,W as F}from"./index-2fe437c2.js";import{I as S}from"./index-c186720f.js";import{u as D}from"./vue-i18n.runtime-ed730321.js";import{C as x}from"./index-0b93d195.js";import{m as d}from"./index-1bdfef9a.js";import"./motion-8927e1f6.js";import"./compact-item-943b0817.js";import"./extends-98964cd2.js";import"./index-aab19e1a.js";import"./index-df6759cb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-6cf4e6ab.js";import"./vue-router-09c98cdc.js";import"./index-f9a7754c.js";import"./FilterForm-0cbd5abc.js";import"./index-fe2cee87.js";import"./_arrayLikeKeys-856a4a59.js";import"./_overRest-fdd2e9e6.js";import"./isArrayLikeObject-18ce9678.js";import"./isPlainObject-7ca50782.js";import"./dayjs.min-bd65d405.js";import"./pinia-1c824524.js";import"./Accordion-0d466002.js";import"./index-30344dd3.js";import"./FormItemContext-d5d2b6af.js";import"./index-0fc5836e.js";import"./index-9c7320cf.js";import"./KeyCode-5dbefdba.js";import"./colors-897f8409.js";import"./ClockCircleOutlined-ec564bb6.js";import"./CloseCircleFilled-0e0600c9.js";import"./vnode-0120d1ab.js";import"./useMergedState-9fc4af37.js";import"./slide-14b3f38e.js";import"./motionUtil-c773f409.js";import"./shallowequal-aee54418.js";import"./statusUtils-981b964f.js";import"./index-9435a495.js";import"./roundedArrow-e2771650.js";import"./RightOutlined-811eef93.js";import"./firstNotUndefined-29a740f3.js";import"./collapseMotion-a3198536.js";import"./DropdownButton-c71d963a.js";import"./_baseSet-597e192b.js";import"./_toKey-f8a2c48c.js";import"./isSymbol-4808126a.js";import"./iframe-4d7f0ef5.js";import"../sb-preview/runtime.js";import"./cloneDeep-63a05421.js";import"./index-7bc94af2.js";import"./EyeOutlined-3dbe0b46.js";import"./pickAttrs-7c36c3e9.js";import"./isMobile-12f0741d.js";import"./InfoCircleOutlined-588a8397.js";import"./ExclamationCircleFilled-d404fa4e.js";const $={class:"text-wrapper"},V={class:"form-wrapper"},W={class:"input-wrapper"},L=C({__name:"InviteCodeForm",setup(O){const{t:v}=D(),t=B(),{getFormValues:n}=I(t),p=c(!1),a=c(!1),f=async()=>{const e=n.value.inviteCode.trim(),o=/^[0-9]+$/;try{if(e.length)if(p.value=!0,o.test(e)){const{data:r}=await F.checkInviteCode({inviteCode:e}),{workspaceId:m,workspaceName:_,workspaceInviteLogId:g}=r;t.setJoinParam({workspaceId:m,workspaceName:_,workspaceInviteLogId:g}),t.setNextBtnDisabled(!1),a.value=!0}else d.error(v("message.validate.checkInviteCode")),t.setNextBtnDisabled(!0)}catch(r){p.value=!1,console.log(r),d.error(r.response.data.error.message),t.setNextBtnDisabled(!0)}finally{p.value=!1}};return(e,o)=>{const r=k;return w(),h(N,null,[i("div",$,[i("h1",null,u(e.$t("page.workspace.inviteStep1Tit")),1),i("p",null,u(e.$t("page.workspace.inviteStep1Desc")),1)]),i("div",V,[i("div",W,[l(s(S),{placeholder:e.$t("component.ph.inputInviteCode"),value:s(n).inviteCode,"onUpdate:value":o[0]||(o[0]=m=>s(n).inviteCode=m),onInput:o[1]||(o[1]=()=>{s(t).setNextBtnDisabled(!0),a.value=!1})},null,8,["placeholder","value"]),l(r,{class:"btn",label:a.value?"":e.$t("component.button.confirm"),onClick:f,loading:p.value},b({_:2},[a.value?{name:"icon",fn:y(()=>[l(s(x))]),key:"0"}:void 0]),1032,["label","loading"])])])],64)}}});L.__docgenInfo={exportName:"default",displayName:"InviteCodeForm",description:"",tags:{},sourceFiles:["/Users/kimnayoung/Documents/workspace/web.checkup.main/src/views/workspace/components/invite/InviteCodeForm.vue"]};export{L as default};
